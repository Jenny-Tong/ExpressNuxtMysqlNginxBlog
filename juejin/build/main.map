{"version":3,"sources":["webpack:///webpack/bootstrap 23f888201cb1bf7c6e5d","webpack:///external \"express\"","webpack:///./node_modules/.6.26.0@babel-runtime/regenerator/index.js","webpack:///external \"marked\"","webpack:///./server/models/comments.js","webpack:///./server/lib/sql.js","webpack:///./config/index.js","webpack:///./config/development.js","webpack:///./server/lib/util.date.js","webpack:///./server/index.js","webpack:///(webpack)/buildin/harmony-module.js","webpack:///external \"nuxt\"","webpack:///external \"express-session\"","webpack:///external \"express-mysql-session\"","webpack:///external \"winston\"","webpack:///external \"express-winston\"","webpack:///./server/api/index.js","webpack:///./server/api/posts.js","webpack:///./server/models/posts.js","webpack:///external \"regenerator-runtime\"","webpack:///external \"mysql\"","webpack:///./config/default.js","webpack:///./config/production.js","webpack:///./util/assist.js","webpack:///./server/middlewares/check.js","webpack:///./nuxt.config.js","webpack:///external \"path\"","webpack:///./package.json","webpack:///external \"fs\"","webpack:///external \"axios\"","webpack:///./node_modules/.0.0.10@cssfilter/lib/index.js","webpack:///./node_modules/.0.3.7@xss/lib/util.js","webpack:///./node_modules/.0.3.7@xss/lib/default.js","webpack:///./node_modules/.0.0.10@cssfilter/lib/default.js","webpack:///./node_modules/.0.0.10@cssfilter/lib/util.js","webpack:///./node_modules/.0.3.7@xss/lib/parser.js","webpack:///./node_modules/.0.3.7@xss/lib/index.js","webpack:///./node_modules/.0.0.10@cssfilter/lib/css.js","webpack:///./node_modules/.0.0.10@cssfilter/lib/parser.js","webpack:///./node_modules/.0.3.7@xss/lib/xss.js"],"names":["marked","require","mysqlQuery","formatDate","contentToHtml","posts","map","post","content","create","comment","dateMap","Date","date","yearMonthDay","time","addSql","addSqlParams","JSON","stringify","author","postId","commentRes","err","Promise","reject","modSql","result","resolve","delCommentById","commentId","sql","getComments","cb","forEach","item","index","parse","mysql","config","getConfig","pool","createPool","dbConfig","args","getConnection","connection","query","fields","release","e","name","proConfig","devEnv","port","apiPort","apiHost","sslModel","disConfig","Object","assign","exports","dateFromDateStr","getToday","monthOffset","now","setHours","setMinutes","setSeconds","setMilliseconds","pad","val","len","String","length","weeks","offset","dateOffset","realDate","getTime","dateStr","replace","endDate","startDate","endArr","split","startArr","returnType","fixOffset","zone","getTimezoneOffset","month","getMonth","year","getFullYear","day","getDate","week","getDay","ar","str","join","str1","sub","today","tomorrow","weekday","hour","getHours","getMinutes","min","sec","getSeconds","monthDay","dateShort","dateShort1","dateShort2","str2","shortTightTime","tightTime","shortTime","dateStr1","tightDate","session","MySQLStore","winston","expressWinston","nuxtConfig","path","pkg","fs","app","express","host","process","env","HOST","PORT","set","__dirname","use","key","secret","cookie","maxAge","store","connectionLimit","expiration","resave","saveUninitialized","uploadDir","logger","transports","File","filename","startRouter","errorLogger","Console","json","colorize","on","writeSync","reason","p","console","log","warning","warn","message","stack","nuxt","builder","build","render","module","parent","listen","get","req","res","redirect","router","Router","xss","checkLogin","next","authorId","PostModel","getPosts","then","catch","error","user","title","Error","flash","pv","_id","excludeSpecial","s","params","all","getPostById","CommentModel","incPv","comments","mdContent","getRawPostById","toString","updatePostById","delPostById","addRet","insertId","created_at","commentsCount","data","modSqlParams","values","delRes","devConfig","password","database","timestamp","getYear","postToSQLUpdate","object","updated","hasOwnProperty","push","deepCopy","timeAgo","between","Number","pluralize","getCookiesInServer","Cookies","headers","Cookie","parts","trim","setCookieInClient","value","minutes","exp","setTime","document","escape","toGMTString","getCookieInClient","arr","reg","RegExp","match","unescape","baidutongji","_hmt","hm","createElement","src","getElementsByTagName","parentNode","insertBefore","mobilePage","checkNotLogin","head","cache","max","meta","charset","hid","link","rel","type","href","css","lang","vendor","loading","color","height","failedColor","transition","plugins","ssr"],"mappings":";;;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;AC7DA,oC;;;;;;ACAA;;;;;;;ACAA,mC;;;;;;;;;;;;;;ACAA;;;;;;;AAOA,IAAIA,SAAS,mBAAAC,CAAQ,CAAR,CAAb;AACA,IAAIC,aAAa,mBAAAD,CAAQ,CAAR,EAAsBC,UAAvC;AACA,IAAIC,aAAa,mBAAAF,CAAQ,CAAR,EAA4BE,UAA7C;;AAEA,SAASC,aAAT,CAAuBC,KAAvB,EAA8B;AAC1B,WAAOA,MAAMC,GAAN,CAAU,UAASC,IAAT,EAAe;AAC5BA,aAAKC,OAAL,GAAeR,OAAOO,KAAKC,OAAZ,CAAf;AACA,eAAOD,IAAP;AACH,KAHM,CAAP;AAIH;;+DAEe;AACZ;AACME,UAFM;AAAA,mOAECC,OAFD;AAAA;;AAAA;AAAA;AAAA;AAAA;AAGFC,mCAHE,GAGQR,WAAW,IAAIS,IAAJ,EAAX,EAAuB,gBAAvB,CAHR;AAIFC,gCAJE,GAIKF,QAAQG,YAAR,GAAuB,GAAvB,GAA6BH,QAAQI,IAJ1C;AAKJC,kCALI,GAKK,wEALL;AAMJC,wCANI,GAMW,CAACC,KAAKC,SAAL,CAAeT,QAAQU,MAAvB,CAAD,EAAiCV,QAAQF,OAAzC,EAAkDE,QAAQW,MAA1D,EAAkER,IAAlE,CANX;AAAA;AAAA,mCAOeX,WAAWc,MAAX,EAAmBC,YAAnB,CAPf;;AAAA;AAOJK,sCAPI;;AAAA,iCAQJA,WAAWC,GARP;AAAA;AAAA;AAAA;;AASJC,oCAAQC,MAAR,CAAeH,WAAWC,GAA1B;AATI;AAAA;;AAAA;AAWAG,kCAXA,GAWS,kEAAkEhB,QAAQW,MAXnF;AAAA;AAAA,mCAYwBnB,WAAWwB,MAAX,CAZxB;;AAAA;AAAA;AAYEH,+BAZF,SAYEA,GAZF;AAYOI,kCAZP,SAYOA,MAZP;;AAaJ,gCAAIJ,GAAJ,EAAS;AACLC,wCAAQC,MAAR,CAAeF,GAAf;AACH,6BAFD,MAEO;AACHC,wCAAQI,OAAR,CAAgBN,WAAWK,MAA3B;AACH;;AAjBG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAoBZ;AACME,kBArBM;AAAA,qOAqBSC,SArBT,EAqBoBT,MArBpB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAsBJU,+BAtBI,GAsBE,oCAAoCD,SAtBtC;AAAA;AAAA,mCAuBe5B,WAAW6B,GAAX,CAvBf;;AAAA;AAuBJT,sCAvBI;;AAAA,iCAwBJA,WAAWC,GAxBP;AAAA;AAAA;AAAA;;AAyBJC,oCAAQC,MAAR,CAAeH,WAAWC,GAA1B;AAzBI;AAAA;;AAAA;AA2BAG,kCA3BA,GA2BS,kEAAkEL,MA3B3E;AAAA;AAAA,mCA4BwBnB,WAAWwB,MAAX,CA5BxB;;AAAA;AAAA;AA4BEH,+BA5BF,SA4BEA,GA5BF;AA4BOI,kCA5BP,SA4BOA,MA5BP;;AA6BJ,gCAAIJ,GAAJ,EAAS;AACLC,wCAAQC,MAAR,CAAeF,GAAf;AACH,6BAFD,MAEO;AACHC,wCAAQI,OAAR,CAAgBN,WAAWK,MAA3B;AACH;;AAjCG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAoCZ;AACMK,eArCM;AAAA,qOAqCMX,MArCN,EAqCcY,EArCd;AAAA;;AAAA;AAAA;AAAA;AAAA;AAsCJF,+BAtCI,GAsCE,yCAAyCV,MAtC3C;AAAA;AAAA,mCAuCoBnB,WAAW6B,GAAX,CAvCpB;;AAAA;AAAA;AAuCFR,+BAvCE,SAuCFA,GAvCE;AAuCGI,kCAvCH,SAuCGA,MAvCH;AAAA;;AAyCJA,qCAASvB,cAAcuB,MAAd,CAAT;AACAA,mCAAOO,OAAP,CAAe,UAASC,IAAT,EAAeC,KAAf,EAAsB;AACjCD,qCAAKf,MAAL,GAAcF,KAAKmB,KAAL,CAAWF,KAAKf,MAAhB,CAAd;AACH,6BAFD;AA1CI;AAAA;;AAAA;AAAA;AAAA;;AA8CJG;;AA9CI;AAAA;;AAAA,iCAgDAA,GAhDA;AAAA;AAAA;AAAA;;AAAA,8DAiDOC,QAAQC,MAAR,CAAeF,GAAf,CAjDP;;AAAA;AAAA,8DAmDOC,QAAQI,OAAR,CAAgBD,MAAhB,CAnDP;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,CAAhB,E;;;;;;;;;AClBA;AAAA,IAAIW,QAAQ,mBAAArC,CAAQ,EAAR,CAAZ;AACA;AACA,IAAIsC,SAAS,gEAAAC,CAAU,aAAV,CAAb;;AAGA,IAAIC,OAAOH,MAAMI,UAAN,CAAiBH,OAAOI,QAAxB,CAAX;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEQ,SAASzC,UAAT,GAA6B;AAAA,sCAAN0C,IAAM;AAANA,YAAM;AAAA;;AACjC,WAAO,IAAIpB,OAAJ,CAAY,UAACI,OAAD,EAAUH,MAAV,EAAqB;AACpC,YAAI;AACAgB,iBAAKI,aAAL,CAAmB,UAAStB,GAAT,EAAcuB,UAAd,EAA0B;AACzC,oBAAIvB,GAAJ,EAAS;AACLE,2BAAO,EAAEF,KAAKA,GAAP,EAAYI,QAAQ,SAApB,EAAP;AACH,iBAFD,MAEO;AACHmB,+BAAWC,KAAX,mBAAoBH,IAApB,SAA0B,UAASrB,GAAT,EAAcI,MAAd,EAAsBqB,MAAtB,EAA8B;AACpD,4BAAIzB,GAAJ,EAAS;AACLE,mCAAO,EAAEF,QAAF,EAAOI,cAAP,EAAP;AACH,yBAFD,MAEO;AACHC,oCAAQ,EAAEL,QAAF,EAAOI,cAAP,EAAR;AACH;AACDmB,mCAAWG,OAAX;AACH,qBAPD;AAQH;AAEJ,aAdD;AAeH,SAhBD,CAgBE,OAAOC,CAAP,EAAU;AACRzB,mBAAO,EAAEF,KAAK2B,CAAP,EAAUvB,QAAQ,SAAlB,EAAP;AACH,SAlBD,SAkBU,CAET;AACJ,KAtBM,CAAP;AAuBH,C;;;;;;;;;;AC5DD;AACA;;AAEe,SAASa,SAAT,GAAsC;AAAA,QAAnBW,IAAmB,uEAAd,YAAc;;AACjD,QAAIA,QAAM,YAAV,EAAwB;AACpB,eAAO,+DAAP;AACH,KAFD,MAEO;AACH,eAAO,gEAAP;AACH;AACJ,C;;;;;;;ACTD;AAAA;AACA;;AAEA,IAAIC,YAAY;AACZC,YAAQ,IADI;AAEZC,UAAM,IAFM;AAGZC,aAAQ,IAHI;AAIZC,aAAQ,kBAJI;AAKZC,cAAU;AALE,CAAhB;AAOA,IAAIC,YAAYC,OAAOC,MAAP,CAAc,EAAd,EAAkB,4DAAlB,EAA6BR,SAA7B,CAAhB;;AAEA,yDAAeM,SAAf,E;;;;;;ACZAG,QAAQ1D,UAAR,GAAqBA,UAArB;AACA0D,QAAQC,eAAR,GAA0BA,eAA1B;AACAD,QAAQE,QAAR,GAAmBA,QAAnB;AACAF,QAAQG,WAAR,GAAsBA,WAAtB;;AAEA,SAASD,QAAT,GAAoB;AAChB,QAAIE,MAAM,IAAIrD,IAAJ,EAAV;AACAqD,QAAIC,QAAJ,CAAa,CAAb;AACAD,QAAIE,UAAJ,CAAe,CAAf;AACAF,QAAIG,UAAJ,CAAe,CAAf;AACAH,QAAII,eAAJ,CAAoB,CAApB;AACA,WAAOJ,GAAP;AACH;;AAED,SAASK,GAAT,CAAaC,GAAb,EAAkBC,GAAlB,EAAuB;AACnBD,UAAME,OAAOF,GAAP,CAAN;AACAC,UAAMA,OAAO,CAAb;AACA,WAAOD,IAAIG,MAAJ,GAAaF,GAApB;AAAyBD,cAAM,MAAMA,GAAZ;AAAzB,KACA,OAAOA,GAAP;AACH;;AAED,IAAII,QAAQ,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,EAAqB,GAArB,EAA0B,GAA1B,EAA+B,GAA/B,CAAZ;AAAA,IACIC,SAAS,CADb;;AAGA,SAASC,UAAT,CAAoBC,QAApB,EAA8B;AAC1BF,aAAU,IAAIhE,IAAJ,EAAD,CAAamE,OAAb,KAAyBD,SAASC,OAAT,EAAlC;AACH;AACD;AACA,SAASjB,eAAT,CAAyBkB,OAAzB,EAAkC;AAC9B,WAAO,IAAIpE,IAAJ,CAASA,KAAKyB,KAAL,CAAW2C,QAAQC,OAAR,CAAgB,IAAhB,EAAsB,GAAtB,CAAX,CAAT,CAAP;AACH;;AAED;AACA;AACA,SAASjB,WAAT,CAAqBkB,OAArB,EAA8BC,SAA9B,EAAyC;AACrC,QAAIC,SAASF,QAAQG,KAAR,CAAc,GAAd,CAAb;AACA,QAAIC,WAAWH,UAAUE,KAAV,CAAgB,GAAhB,CAAf;AACA,QAAI,CAACD,MAAD,IAAW,CAACA,OAAOV,MAAnB,IAA6B,CAACY,QAA9B,IAA0C,CAACA,SAASZ,MAAxD,EAAgE;AAC5D,eAAO,IAAP;AACH;AACD,QAAIE,SAAS,CAACQ,OAAO,CAAP,IAAYE,SAAS,CAAT,CAAb,IAA4B,EAA5B,IAAkCF,OAAO,CAAP,IAAYE,SAAS,CAAT,CAA9C,CAAb;AACA,QAAIF,OAAO,CAAP,IAAYE,SAAS,CAAT,CAAZ,GAA0B,CAA9B,EAAiC;AAC7BV,kBAAU,CAAV;AACH;AACD,WAAOA,MAAP;AACH;;AAED,SAASzE,UAAT,CAAoBU,IAApB,EAA0B0E,UAA1B,EAAsCC,SAAtC,EAAiD;AAC7C3E,WAAOA,QAAQ,IAAID,IAAJ,EAAf;AACA,QAAI4E,SAAJ,EAAe;AACX;AACA,YAAIZ,MAAJ,EACI/D,OAAO,IAAID,IAAJ,CAASC,KAAKkE,OAAL,KAAiBH,MAA1B,CAAP;AACJ;AACA,YAAIa,OAAO,CAAC5E,KAAK6E,iBAAL,EAAD,GAA4B,EAAvC;AACA,YAAID,QAAQ,CAAZ,EACI5E,OAAO,IAAID,IAAJ,CAASC,KAAKkE,OAAL,KAAiB,CAAC,IAAIU,IAAL,IAAa,EAAb,GAAkB,EAAlB,GAAuB,IAAjD,CAAP;AACP;AACD,QAAIF,cAAc,MAAlB,EAA0B;AACtB,eAAO1E,IAAP;AACH;AACD,QAAI8E,QAAQ9E,KAAK+E,QAAL,KAAkB,CAA9B;AAAA,QACIC,OAAOhF,KAAKiF,WAAL,EADX;AAAA,QAEIC,MAAMlF,KAAKmF,OAAL,EAFV;AAAA,QAGIC,OAAOpF,KAAKqF,MAAL,EAHX;AAAA,QAIIC,KAAK,CAACN,IAAD,EAAOvB,IAAIqB,KAAJ,CAAP,EAAmBrB,IAAIyB,GAAJ,CAAnB,CAJT;AAAA,QAKIK,MAAMD,GAAGE,IAAH,CAAQ,GAAR,CALV;;AAOA,QAAI,CAACd,UAAL,EACI,OAAOa,GAAP;;AAEJ,QAAIE,OAAOH,GAAGE,IAAH,CAAQ,EAAR,CAAX;;AAEA,QAAId,cAAc,UAAlB,EAA8B;AAC1B,YAAIgB,MAAM,OAAO5B,MAAMsB,IAAN,CAAjB;AACA,YAAIO,QAAQ,IAAI5F,IAAJ,EAAZ;AACA,YAAIiF,QAAQW,MAAMV,WAAN,EAAR,IAA+BH,SAAUa,MAAMZ,QAAN,KAAmB,CAA5D,IAAkEG,OAAOS,MAAMR,OAAN,EAA7E,EAA8F;AAC1FO,kBAAM,KAAN;AACH;AACD,YAAIE,WAAW,IAAI7F,IAAJ,CAAS4F,MAAMzB,OAAN,KAAkB,KAAK,EAAL,GAAU,EAAV,GAAe,IAA1C,CAAf;AACA,YAAIc,QAAQY,SAASX,WAAT,EAAR,IAAkCH,SAAUc,SAASb,QAAT,KAAsB,CAAlE,IAAwEG,OAAOU,SAAST,OAAT,EAAnF,EAAuG;AACnGO,kBAAM,KAAN;AACH;AACD,eAAQZ,QAAQ,GAAR,GAAcI,GAAd,GAAoB,GAApB,GAA0BQ,GAAlC;AACH;AACD,QAAIhB,cAAc,cAAlB,EAAkC;AAC9B,YAAIgB,MAAM,OAAO5B,MAAMsB,IAAN,CAAjB;AACA,YAAIO,QAAQ,IAAI5F,IAAJ,EAAZ;AACA,YAAIiF,QAAQW,MAAMV,WAAN,EAAR,IAA+BH,SAAUa,MAAMZ,QAAN,KAAmB,CAA5D,IAAkEG,OAAOS,MAAMR,OAAN,EAA7E,EAA8F;AAC1FO,kBAAM,KAAN;AACH;AACD,YAAIE,WAAW,IAAI7F,IAAJ,CAAS4F,MAAMzB,OAAN,KAAkB,KAAK,EAAL,GAAU,EAAV,GAAe,IAA1C,CAAf;AACA,YAAIc,QAAQY,SAASX,WAAT,EAAR,IAAkCH,SAAUc,SAASb,QAAT,KAAsB,CAAlE,IAAwEG,OAAOU,SAAST,OAAT,EAAnF,EAAuG;AACnGO,kBAAM,KAAN;AACH;AACD,eAAQV,OAAO,GAAP,GAAaF,KAAb,GAAqB,GAArB,GAA2BI,GAA3B,GAAiC,GAAjC,GAAuCQ,GAA/C;AACH;;AAED,QAAIhB,cAAc,SAAlB,EAA6B;AACzB,YAAIgB,MAAM,OAAO5B,MAAMsB,IAAN,CAAjB;AACA,YAAIO,QAAQ,IAAI5F,IAAJ,EAAZ;AACA,YAAIiF,QAAQW,MAAMV,WAAN,EAAR,IAA+BH,SAAUa,MAAMZ,QAAN,KAAmB,CAA5D,IAAkEG,OAAOS,MAAMR,OAAN,EAA7E,EAA8F;AAC1FO,kBAAM,KAAN;AACH;AACD,YAAIE,WAAW,IAAI7F,IAAJ,CAAS4F,MAAMzB,OAAN,KAAkB,KAAK,EAAL,GAAU,EAAV,GAAe,IAA1C,CAAf;AACA,YAAIc,QAAQY,SAASX,WAAT,EAAR,IAAkCH,SAAUc,SAASb,QAAT,KAAsB,CAAlE,IAAwEG,OAAOU,SAAST,OAAT,EAAnF,EAAuG;AACnGO,kBAAM,KAAN;AACH;AACD,eAAO;AACHR,iBAAKJ,QAAQ,GAAR,GAAcI,GAAd,GAAoB,GADtB;AAEHW,qBAASH;AAFN,SAAP;AAIH;;AAED,QAAIhB,cAAc,sBAAlB,EAA0C;AACtC,YAAIgB,MAAM,OAAO5B,MAAMsB,IAAN,CAAjB;AACA,YAAIO,QAAQ,IAAI5F,IAAJ,EAAZ;AACA,YAAIiF,QAAQW,MAAMV,WAAN,EAAR,IAA+BH,SAAUa,MAAMZ,QAAN,KAAmB,CAA5D,IAAkEG,OAAOS,MAAMR,OAAN,EAA7E,EAA8F;AAC1FO,kBAAM,KAAN;AACH;AACD,YAAIE,WAAW,IAAI7F,IAAJ,CAAS4F,MAAMzB,OAAN,KAAkB,KAAK,EAAL,GAAU,EAAV,GAAe,IAA1C,CAAf;AACA,YAAIc,QAAQY,SAASX,WAAT,EAAR,IAAkCH,SAAUc,SAASb,QAAT,KAAsB,CAAlE,IAAwEG,OAAOU,SAAST,OAAT,EAAnF,EAAuG;AACnGO,kBAAM,KAAN;AACH;AACD,eAAO;AACHR,iBAAKzB,IAAIqB,KAAJ,IAAa,GAAb,GAAmBrB,IAAIyB,GAAJ,CADrB;AAEHW,qBAASH,GAFN;AAGHI,kBAAMrC,IAAIzD,KAAK+F,QAAL,EAAJ,IAAuB,GAAvB,GAA6BtC,IAAIzD,KAAKgG,UAAL,EAAJ;AAHhC,SAAP;AAKH;;AAED;AACA,QAAItB,cAAc,WAAlB,EAA+B;AAC3B,eAAOI,QAAQ,GAAR,GAAcI,GAArB;AACH;;AAED,QAAIR,cAAc,gBAAlB,EAAoC;AAChC,eAAOM,OAAO,GAAP,GAAaF,KAAb,GAAqB,GAArB,GAA2BI,GAAlC;AACH;;AAED,QAAIR,cAAc,OAAlB,EAA2B;AACvB,eAAOe,IAAP;AACH;;AAGD,QAAIK,OAAO9F,KAAK+F,QAAL,EAAX;AAAA,QACIE,MAAMjG,KAAKgG,UAAL,EADV;AAAA,QAEIE,MAAMlG,KAAKmG,UAAL,EAFV;;AAIA,QAAIzB,cAAc,WAAlB,EAA+B;AAC3B,eAAOe,OAAOhC,IAAIqC,IAAJ,CAAP,GAAmBrC,IAAIwC,GAAJ,CAAnB,GAA8BxC,IAAIyC,GAAJ,CAArC;AACH;;AAED,QAAIxB,cAAc,MAAlB,EAA0B;AACtB,eAAOjB,IAAIqC,IAAJ,CAAP;AACH;;AAED,QAAIpB,cAAc,MAAlB,EAA0B;AACtB,eAAOjB,IAAIqC,IAAJ,IAAY,GAAZ,GAAkBrC,IAAIwC,GAAJ,CAAlB,GAA6B,GAA7B,GAAmCxC,IAAIyC,GAAJ,CAA1C;AACH;;AAED,QAAIxB,cAAc,UAAlB,EAA8B;AAC1B,eAAOa,MAAM,GAAN,GAAY9B,IAAIqC,IAAJ,CAAZ,GAAwB,GAAxB,GAA8BrC,IAAIwC,GAAJ,CAA9B,GAAyC,GAAzC,GAA+CxC,IAAIyC,GAAJ,CAAtD;AACH;;AAED;AACA,QAAIxB,cAAc,UAAlB,EAA8B;AAC1B,eAAOjB,IAAIqC,IAAJ,IAAY,GAAZ,GAAkBrC,IAAIwC,GAAJ,CAAzB;AACH;;AAED,QAAIvB,cAAc,gBAAlB,EAAoC;AAChC,YAAIgB,MAAM,OAAO5B,MAAMsB,IAAN,CAAjB;AACA,YAAIO,QAAQ,IAAI5F,IAAJ,EAAZ;AACA,YAAIiF,QAAQW,MAAMV,WAAN,EAAR,IAA+BH,SAAUa,MAAMZ,QAAN,KAAmB,CAA5D,IAAkEG,OAAOS,MAAMR,OAAN,EAA7E,EAA8F;AAC1FO,kBAAM,KAAN;AACH;AACD,YAAIE,WAAW,IAAI7F,IAAJ,CAAS4F,MAAMzB,OAAN,KAAkB,KAAK,EAAL,GAAU,EAAV,GAAe,IAA1C,CAAf;AACA,YAAIc,QAAQY,SAASX,WAAT,EAAR,IAAkCH,SAAUc,SAASb,QAAT,KAAsB,CAAlE,IAAwEG,OAAOU,SAAST,OAAT,EAAnF,EAAuG;AACnGO,kBAAM,KAAN;AACH;AACD,YAAIU,WAAWtB,QAAQ,GAAR,GAAcI,GAAd,GAAoB,GAAnC;AAAA,YACIjF,eAAe+E,OAAO,GAAP,GAAaoB,QADhC;AAAA,YAEIC,YAAYvB,QAAQ,GAAR,GAAcI,GAF9B;AAAA,YAGIoB,aAAaxB,QAAQ,GAAR,GAAcI,GAH/B;AAAA,YAIIqB,aAAa9C,IAAIqB,KAAJ,IAAa,GAAb,GAAmBrB,IAAIyB,GAAJ,CAJpC;AAAA,YAKIsB,OAAOlB,GAAGE,IAAH,CAAQ,GAAR,CALX;AAAA,YAMIiB,iBAAiBhD,IAAIqC,IAAJ,IAAYrC,IAAIwC,GAAJ,CANjC;AAAA,YAOIS,YAAYD,iBAAiBhD,IAAIyC,GAAJ,CAPjC;AAAA,YAQIS,YAAYlD,IAAIqC,IAAJ,IAAY,GAAZ,GAAkBrC,IAAIwC,GAAJ,CARlC;AAAA,YASI/F,OAAOyG,YAAY,GAAZ,GAAkBlD,IAAIyC,GAAJ,CAT7B;AAUA,eAAO;AACHE,sBAAUA,QADP,EACiB;AACpBnG,0BAAcA,YAFX,EAEyB;AAC5B4F,qBAASH,GAHN,EAGW;AACdvB,qBAASoB,GAJN,EAIW;AACdqB,sBAAUJ,IALP,EAKa;AAChBH,uBAAWA,SANR,EAMmB;AACtBC,wBAAYA,UAPT,EAOqB;AACxBC,wBAAYA,UART,EAQqB;AACxBM,uBAAWpB,IATR,EASc;AACjBgB,4BAAgBA,cAVb,EAU6B;AAChCC,uBAAWA,SAXR,EAWmB;AACtBC,uBAAWA,SAZR,EAYmB;AACtBzG,kBAAMA,IAbH,CAaQ;AAbR,SAAP;AAeH;;AAED,WAAOqF,GAAP;AACH,C;;;;;;;;;;;;;;;;AChND;AAIA;AACA,IAAIuB,UAAU,mBAAA1H,CAAQ,EAAR,CAAd;AACA,IAAI2H,aAAa,mBAAA3H,CAAQ,EAAR,EAAiC0H,OAAjC,CAAjB;AACA,IAAIE,UAAU,mBAAA5H,CAAQ,EAAR,CAAd;AACA,IAAI6H,iBAAiB,mBAAA7H,CAAQ,EAAR,CAArB;AACA;AAGA,IAAI8H,aAAa,mBAAA9H,CAAQ,EAAR,CAAjB;AACA;AACA,IAAI+H,OAAO,mBAAA/H,CAAQ,EAAR,CAAX;AACA,IAAIgI,MAAM,mBAAAhI,CAAQ,EAAR,CAAV;AACA,IAAIsC,SAAS,gEAAAC,CAAU,aAAV,CAAb;AACA,IAAI0F,KAAK,mBAAAjI,CAAQ,EAAR,CAAT;AACA;;AAEA;;AAEA,IAAMkI,MAAM,+CAAAC,EAAZ;AACA,IAAMC,OAAOC,QAAQC,GAAR,CAAYC,IAAZ,IAAoB,WAAjC;AACA,IAAMlF,OAAOgF,QAAQC,GAAR,CAAYE,IAAZ,IAAoBlG,OAAOe,IAAxC;;AAEA;AACA6E,IAAIO,GAAJ,CAAQ,OAAR,EAAiBV,KAAK3B,IAAL,CAAUsC,SAAV,EAAqB,OAArB,CAAjB;AACAR,IAAIO,GAAJ,CAAQ,aAAR,EAAuB,MAAvB;;AAEA;AACAP,IAAIS,GAAJ,CAAQjB,QAAQ;AACdkB,OAAKtG,OAAOoF,OAAP,CAAekB,GADN;AAEdC,UAAQvG,OAAOoF,OAAP,CAAemB,MAFT;AAGdC,UAAQ;AACNC,YAAQzG,OAAOoF,OAAP,CAAeqB;AADjB,GAHM;AAMdC,SAAO,IAAIrB,UAAJ,CAAerF,OAAOI,QAAtB,CANO;AAOduG,mBAAiB,EAPH;AAQdC,cAAY,QARE;AASdC,UAAQ,IATM;AAUdC,qBAAmB;AAVL,CAAR,CAAR;AAYA;AACA;AACA;AACA;AACA;;AAEA,IAAIC,YAAY,uCAAhB;AACA,IAAI/G,OAAOc,MAAX,EAAmB;AACjBiG,cAAYtB,KAAK3B,IAAL,CAAUsC,SAAV,EAAqB,YAArB,CAAZ;AACD;;AAED;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAR,IAAIS,GAAJ,CAAQd,eAAeyB,MAAf,CAAsB;AAC5BC,cAAY;AACV;AACA;AACA;AACA;AACA,MAAI3B,QAAQ2B,UAAR,CAAmBC,IAAvB,CAA4B;AAC1BC,cAAU;AADgB,GAA5B,CALU;AADgB,CAAtB,CAAR;;AAYA,uEAAAC,CAAYxB,GAAZ;;AAEAA,IAAIS,GAAJ,CAAQd,eAAe8B,WAAf,CAA2B;AACjCJ,cAAY,CACV,IAAI3B,QAAQ2B,UAAR,CAAmBK,OAAvB,CAA+B;AAC7BC,UAAM,IADuB;AAE7BC,cAAU;AAFmB,GAA/B,CADU,EAKV,IAAIlC,QAAQ2B,UAAR,CAAmBC,IAAvB,CAA4B;AAC1BC,cAAU;AADgB,GAA5B,CALU;AADqB,CAA3B,CAAR;;AAYA;AACA;AACA;AACA;AACA;AACA;;AAEApB,QAAQ0B,EAAR,CAAW,mBAAX,EAAgC,UAACzI,GAAD,EAAS;AACvC2G,KAAG+B,SAAH,CAAa,CAAb,yBAAqC1I,GAArC;AACD,CAFD;AAGA;AACA+G,QAAQ0B,EAAR,CAAW,oBAAX,EAAiC,UAACE,MAAD,EAASC,CAAT,EAAe;AAC9CC,UAAQC,GAAR,CAAY,6CAAZ,EAA2DF,CAA3D,EAA8D,SAA9D,EAAyED,MAAzE;AACD,CAFD;AAGA;AACA5B,QAAQ0B,EAAR,CAAW,SAAX,EAAsB,UAACM,OAAD,EAAa;AACjCF,UAAQG,IAAR,CAAaD,QAAQnH,IAArB,EADiC,CACL;AAC5BiH,UAAQG,IAAR,CAAaD,QAAQE,OAArB,EAFiC,CAEF;AAC/BJ,UAAQG,IAAR,CAAaD,QAAQG,KAArB,EAHiC,CAGJ;AAC9B,CAJD;;AAQA,IAAIC,OAAO,IAAI,0CAAJ,CAAS3C,UAAT,CAAX;AACA,IAAIxF,OAAOc,MAAX,EAAmB;AACjB,MAAMsH,UAAU,IAAI,6CAAJ,CAAYD,IAAZ,CAAhB;AACAC,UAAQC,KAAR;AACD;AACD;AACAzC,IAAIS,GAAJ,CAAQ8B,KAAKG,MAAb;;AAIA,IAAIC,OAAOC,MAAX,EAAmB;AACjBD,SAAOjH,OAAP,GAAiBsE,GAAjB;AACD,CAFD,MAEO;AACL;AACAA,MAAI6C,MAAJ,CAAW1H,IAAX,EAAiB+E,IAAjB,EAAuB,YAAY;AACjC+B,YAAQC,GAAR,CAAY,gCAAgChC,IAAhC,GAAuC,GAAvC,GAA6C/E,IAAzD,EADiC,CAC+B;AACjE,GAFD;AAGD,C;;;;;;;ACrID;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;;;;;;ACvBA,iC;;;;;;ACAA,4C;;;;;;ACAA,kD;;;;;;ACAA,oC;;;;;;ACAA,4C;;;;;;;;;ACAA;;AAEO,SAASqG,WAAT,CAAqBxB,GAArB,EAA0B;;AAEzB;AACD;;AAEC;AACA;AACA;AACAA,QAAI8C,GAAJ,CAAQ,GAAR,EAAa,UAASC,GAAT,EAAcC,GAAd,EAAmB;AAC5BA,YAAIC,QAAJ,CAAa,QAAb;AACH,KAFD;;AAIA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACAjD,QAAIS,GAAJ,CAAQ,YAAR,EAAsB,0DAAtB;;AAEA;AACA;AACA;AACA;AACA;AACA;AAEH,C;;;;;;;;;ACrCL;AAAA;;;;;;;AAOA,IAAIR,UAAU,mBAAAnI,CAAQ,CAAR,CAAd;AACA,IAAIoL,SAASjD,QAAQkD,MAAR,EAAb;AACA;AACA;AACA,IAAIC,MAAM,mBAAAtL,CAAQ,EAAR,CAAV;AACA;AAGA;AACA;AACA,IAAIuL,aAAa,mBAAAvL,CAAQ,EAAR,EAAgCuL,UAAjD;;AAEA;AACA;AACAH,OAAOJ,GAAP,CAAW,GAAX,EAAgB,UAAUC,GAAV,EAAeC,GAAf,EAAoBM,IAApB,EAA0B;AACzC,KAAIC,WAAWR,IAAInI,KAAJ,IAAamI,IAAInI,KAAJ,CAAU3B,MAAtC;AACA;AACA;AACA;AACAuK,CAAA,8DAAAA,CAAUC,QAAV,CAAmBF,QAAnB,EAA6BG,IAA7B,CAAkC,iBAAS;AAC1C;AACA;AACA;AACA;AACA;AACA;AACAV,MAAIrB,IAAJ,CAASzJ,KAAT;AACA;AACA,EATD,EASGyL,KATH,CASS,iBAAS;AACjBX,MAAIrB,IAAJ,CAASiC,KAAT;AACA,EAXD;AAYA,CAjBD;;AAmBA;AACAV,OAAOJ,GAAP,CAAW,SAAX,EAAsBO,UAAtB,EAAkC,UAAUN,GAAV,EAAeC,GAAf,EAAoBM,IAApB,EAA0B;AAC3DN,KAAIN,MAAJ,CAAW,QAAX;AACA,CAFD;;AAIA;AACAQ,OAAO9K,IAAP,CAAY,GAAZ,EAAiBiL,UAAjB,EAA6B,UAAUN,GAAV,EAAeC,GAAf,EAAoBM,IAApB,EAA0B;AACtD,KAAIrK,SAAS8J,IAAIvD,OAAJ,CAAYqE,IAAzB;AACA,KAAIC,QAAQf,IAAIlI,MAAJ,CAAWiJ,KAAvB;AACA,KAAIzL,UAAU0K,IAAIlI,MAAJ,CAAWxC,OAAzB;AACA,KAAI;AACH,MAAI,CAACyL,MAAMvH,MAAX,EAAmB;AAClB,SAAM,IAAIwH,KAAJ,CAAU,OAAV,CAAN;AACA;AACD,MAAI,CAAC1L,QAAQkE,MAAb,EAAqB;AACpB,SAAM,IAAIwH,KAAJ,CAAU,OAAV,CAAN;AACA;AACD,EAPD,CAOE,OAAOhJ,CAAP,EAAU;AACXgI,MAAIiB,KAAJ,CAAU,OAAV,EAAmBjJ,EAAEsH,OAArB;AACA,SAAOW,IAAIC,QAAJ,CAAa,MAAb,CAAP;AACA;AACD,KAAI7K,OAAO;AACVa,UAAQA,MADE;AAEV6K,SAAOA,KAFG;AAGVzL,WAASA,OAHC;AAIV4L,MAAI;AAJM,EAAX;AAMAT,CAAA,8DAAAA,CAAUlL,MAAV,CAAiBF,IAAjB,EAAuBsL,IAAvB,CAA4B,gBAAQ;AACnCX,MAAIiB,KAAJ,CAAU,SAAV,EAAqB,MAArB;AACA;AACAhB,MAAIC,QAAJ,aAAuB7K,KAAK8L,GAA5B;AACA,EAJD,EAIGP,KAJH,CAISL,IAJT;AAKA,CA1BD;;AA4BA,IAAIa,iBAAiB,SAAjBA,cAAiB,CAASC,CAAT,EAAY;AAC7B;AACAA,KAAIA,EAAEtH,OAAF,CAAU,uBAAV,EAAmC,EAAnC,CAAJ;AACA;AACAsH,KAAIA,EAAEtH,OAAF,CAAU,kCAAV,CAAJ;AACA,QAAOsH,CAAP;AACF,CANF;;AAQA;AACAlB,OAAOJ,GAAP,CAAW,UAAX,EAAuB,UAAUC,GAAV,EAAeC,GAAf,EAAoBM,IAApB,EAA0B;AAChD,KAAIpK,SAAS6J,IAAIsB,MAAJ,CAAWnL,MAAxB;AACAG,SAAQiL,GAAR,CAAY,CACX,8DAAAd,CAAUe,WAAV,CAAsBrL,MAAtB,CADW,EACoB;AAC/BsL,CAAA,yDAAAA,CAAa3K,WAAb,CAAyBX,MAAzB,CAFW,EAEuB;AAClCsK,CAAA,8DAAAA,CAAUiB,KAAV,CAAgBvL,MAAhB,CAHW,CAGa;AAHb,EAAZ,EAIGwK,IAJH,CAIQ,kBAAU;AACjB,MAAItL,OAAOoB,OAAO,CAAP,CAAX;AACA,MAAIkL,WAAWlL,OAAO,CAAP,CAAf;AACA;AACA;AACApB,OAAKC,OAAL,GAAeD,KAAKC,OAAL,CAAayE,OAAb,CAAqB,UAArB,EAAgC,QAAhC,CAAf;AACA1E,OAAKC,OAAL,GAAeD,KAAKC,OAAL,CAAayE,OAAb,CAAqB,UAArB,EAAgC,QAAhC,CAAf;AACA;AACA;AACAkG,MAAIN,MAAJ,CAAW,OAAX,EAAoB,EAACiC,WAAWvM,KAAKC,OAAjB,EAApB,EAA8C,UAASe,GAAT,EAAaI,MAAb,EAAqB;;AAElE;AACA;AACApB,QAAKC,OAAL,GAAemB,MAAf;AACAwJ,OAAIrB,IAAJ,CAAS,EAACvJ,UAAD,EAAMsM,kBAAN,EAAT;AACA;AACA,GAPD;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EA9BD,EA8BGf,KA9BH,CA8BS,iBAAS;AACjBX,MAAIrB,IAAJ,CAASiC,KAAT;AACA,EAhCD;AAiCA,CAnCD;;AAqCA;AACAV,OAAOJ,GAAP,CAAW,eAAX,EAA4BO,UAA5B,EAAwC,UAAUN,GAAV,EAAeC,GAAf,EAAoBM,IAApB,EAA0B;AACjE,KAAIpK,SAAS6J,IAAIsB,MAAJ,CAAWnL,MAAxB;AACA,KAAID,SAAS8J,IAAIvD,OAAJ,CAAYqE,IAAZ,CAAiBK,GAA9B;;AAEAV,CAAA,8DAAAA,CAAUoB,cAAV,CAAyB1L,MAAzB,EACEwK,IADF,CACO,UAAUtL,IAAV,EAAgB;AACrB,MAAI,CAACA,IAAL,EAAW;AACV,SAAM,IAAI2L,KAAJ,CAAU,QAAV,CAAN;AACA;AACD,MAAI9K,OAAO4L,QAAP,OAAsBzM,KAAKa,MAAL,CAAYiL,GAAZ,CAAgBW,QAAhB,EAA1B,EAAsD;AACrD,SAAM,IAAId,KAAJ,CAAU,MAAV,CAAN;AACA;AACDf,MAAIN,MAAJ,CAAW,MAAX,EAAmB;AAClBtK,SAAMA;AADY,GAAnB;AAGA,EAXF,EAYEuL,KAZF,CAYQL,IAZR;AAaA,CAjBD;;AAmBA;AACAJ,OAAO9K,IAAP,CAAY,eAAZ,EAA6BiL,UAA7B,EAAyC,UAAUN,GAAV,EAAeC,GAAf,EAAoBM,IAApB,EAA0B;AAClE,KAAIpK,SAAS6J,IAAIsB,MAAJ,CAAWnL,MAAxB;AACA,KAAID,SAAS8J,IAAIvD,OAAJ,CAAYqE,IAAzB;AACA,KAAIC,QAAQf,IAAIlI,MAAJ,CAAWiJ,KAAvB;AACA,KAAIzL,UAAU0K,IAAIlI,MAAJ,CAAWxC,OAAzB;;AAEAmL,CAAA,8DAAAA,CAAUsB,cAAV,CAAyB;AACxBhB,SAAOA,KADiB;AAExBzL,WAASA,OAFe;AAGxBY,UAAQF,KAAKC,SAAL,CAAeC,MAAf,CAHgB;AAIxBC,UAAQA;AAJgB,EAAzB,EAKGwK,IALH,CAKQ,kBAAU;AACjBX,MAAIiB,KAAJ,CAAU,SAAV,EAAqB,QAArB;AACA;AACAhB,MAAIC,QAAJ,aAAuB/J,MAAvB;AACA,EATD,EASGyK,KATH,CASSL,IATT;AAUA,CAhBD;;AAkBA;AACAJ,OAAOJ,GAAP,CAAW,iBAAX,EAA8BO,UAA9B,EAA0C,UAAUN,GAAV,EAAeC,GAAf,EAAoBM,IAApB,EAA0B;AACnE,KAAIpK,SAAS6J,IAAIsB,MAAJ,CAAWnL,MAAxB;AACAsK,CAAA,8DAAAA,CAAUuB,WAAV,CAAsB7L,MAAtB,EACEwK,IADF,CACO,YAAY;AACjBX,MAAIiB,KAAJ,CAAU,SAAV,EAAqB,QAArB;AACA;AACAhB,MAAIC,QAAJ,CAAa,QAAb;AACA,EALF,EAMEU,KANF,CAMQL,IANR;AAOA,CATD;;AAWA;AACAJ,OAAO9K,IAAP,CAAY,kBAAZ,EAAgCiL,UAAhC,EAA4C,UAAUN,GAAV,EAAeC,GAAf,EAAoBM,IAApB,EAA0B;AACrE,KAAIrK,SAAS8J,IAAIvD,OAAJ,CAAYqE,IAAzB;AACA,KAAI3K,SAAS6J,IAAIsB,MAAJ,CAAWnL,MAAxB;AACA,KAAIb,UAAU0K,IAAIlI,MAAJ,CAAWxC,OAAzB;AACA,KAAIE,UAAU;AACbU,UAAQA,MADK;AAEbC,UAAQA,MAFK,EAEG;AAChBb,WAASA;AAHI,EAAd;AAKAmM,CAAA,yDAAAA,CAAalM,MAAb,CAAoBC,OAApB,EACEmL,IADF,CACO,kBAAU;AACfX,MAAIiB,KAAJ,CAAU,SAAV,EAAqB,MAArB;AACA;AACAhB,MAAIC,QAAJ,CAAa,MAAb;AACA,EALF,EAKIU,KALJ,CAKUL,IALV;AAMA,CAfD;;AAiBA;AACAJ,OAAOJ,GAAP,CAAW,oCAAX,EAAiDO,UAAjD,EAA6D,UAAUN,GAAV,EAAeC,GAAf,EAAoBM,IAApB,EAA0B;AACtF,KAAI3J,YAAYoJ,IAAIsB,MAAJ,CAAW1K,SAA3B;AACA,KAAIT,SAAS6J,IAAIsB,MAAJ,CAAWnL,MAAxB;AACAsL,CAAA,yDAAAA,CAAa9K,cAAb,CAA4BC,SAA5B,EAAuCT,MAAvC,EACEwK,IADF,CACO,kBAAU;AACfX,MAAIiB,KAAJ,CAAU,SAAV,EAAqB,QAArB;AACA;AACAhB,MAAIC,QAAJ,CAAa,MAAb;AACA,EALF,EAMEU,KANF,CAMQL,IANR;AAOA,CAVD;;AAYA,yDAAeJ,MAAf,E;;;;;;;;;;;;;;AC1MA,IAAIrL,SAAS,mBAAAC,CAAQ,CAAR,CAAb;AACA,IAAI0M,eAAe,mBAAA1M,CAAQ,CAAR,CAAnB;AACA;AACA;AACA,IAAIE,aAAa,mBAAAF,CAAQ,CAAR,EAA4BE,UAA7C;;AAGA,SAASC,aAAT,CAAuBC,KAAvB,EAA8B;AAC1B,WAAOA,MAAMC,GAAN,CAAU,UAASC,IAAT,EAAe;AAC5BA,aAAKC,OAAL,GAAeR,OAAOO,KAAKC,OAAZ,CAAf;AACA,eAAOD,IAAP;AACH,KAHM,CAAP;AAIH;;AAED,yDAAe;AACX;AACME,UAFK;AAAA,mOAEEF,IAFF;AAAA;;AAAA;AAAA;AAAA;AAAA;AAGDI,mCAHC,GAGSR,WAAW,IAAIS,IAAJ,EAAX,EAAuB,gBAAvB,CAHT;AAIDC,gCAJC,GAIMF,QAAQG,YAAR,GAAuB,GAAvB,GAA6BH,QAAQI,IAJ3C;AAMHC,kCANG,GAMM,oGANN;AAOHC,wCAPG,GAOY,CAACC,KAAKC,SAAL,CAAeZ,KAAKa,MAApB,CAAD,EAA8Bb,KAAK0L,KAAnC,EAA0C1L,KAAKC,OAA/C,EAAwD,GAAxD,EAA6DK,IAA7D,EAAmE,GAAnE,EAAwEN,KAAKa,MAAL,CAAYiL,GAApF,CAPZ;AAAA;AAAA,mCAQY,+DAAAnM,CAAWc,MAAX,EAAmBC,YAAnB,CARZ;;AAAA;AAQHkM,kCARG;;AAAA,kCASH,CAACA,OAAO5L,GAAR,IAAe4L,OAAOxL,MAAP,CAAcyL,QAT1B;AAAA;AAAA;AAAA;;AAUCrL,+BAVD,GAUO,mCAAmCoL,OAAOxL,MAAP,CAAcyL,QAVxD;AAAA;AAAA,mCAWyB,+DAAAlN,CAAW6B,GAAX,CAXzB;;AAAA;AAAA;AAWGR,gCAXH,SAWGA,GAXH;AAWQI,kCAXR,SAWQA,MAXR;AAAA;;AAaCA,qCAASA,OAAO,CAAP,CAAT;AACAA,mCAAOP,MAAP,GAAgBF,KAAKmB,KAAL,CAAWV,OAAOP,MAAlB,CAAhB;AACAO,mCAAOnB,OAAP,GAAiBR,OAAO2B,OAAOnB,OAAd,CAAjB;AAfD;AAAA;;AAAA;AAAA;AAAA;;AAiBCe;;AAjBD;AAAA;;AAAA,iCAmBKA,IAnBL;AAAA;AAAA;AAAA;;AAAA,6DAoBYC,QAAQC,MAAR,CAAeF,IAAf,CApBZ;;AAAA;AAAA,6DAsBYC,QAAQI,OAAR,CAAgBD,MAAhB,CAtBZ;;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,6DA0BIH,QAAQC,MAAR,CAAeF,GAAf,CA1BJ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AA6BX;AACMmL,eA9BK;AAAA,qOA8BOrL,MA9BP;AAAA;;AAAA;AAAA;AAAA;AAAA;AA+BDU,+BA/BC,GA+BK,mCAAmCV,MA/BxC;AAAA;AAAA,mCAgCqB,+DAAAnB,CAAW6B,GAAX,CAhCrB;;AAAA;AAAA;AAgCDR,+BAhCC,SAgCDA,GAhCC;AAgCII,kCAhCJ,SAgCIA,MAhCJ;AAAA;;AAkCHA,qCAASA,OAAO,CAAP,CAAT;AACAA,mCAAOP,MAAP,GAAgBF,KAAKmB,KAAL,CAAWV,OAAOP,MAAlB,CAAhB;AACAO,mCAAOnB,OAAP,GAAiBR,OAAO2B,OAAOnB,OAAd,CAAjB;AApCG;AAAA;;AAAA;AAAA;AAAA;;AAsCHe;;AAtCG;AAAA;;AAAA,iCAwCCA,GAxCD;AAAA;AAAA;AAAA;;AAAA,8DAyCQC,QAAQC,MAAR,CAAeF,GAAf,CAzCR;;AAAA;AAAA,8DA2CQC,QAAQI,OAAR,CAAgBD,MAAhB,CA3CR;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AA+CX;AACMiK,YAhDK;AAAA,qOAgDIF,QAhDJ;AAAA;;AAAA;AAAA;AAAA;AAAA;AAiDH3J,+BAjDG,GAiDG,qBAjDH;;AAkDP,gCAAI2J,QAAJ,EAAc;AACV3J,sCAAMA,MAAM,kBAAN,GAA2B2J,QAAjC;AACH;AApDM;AAAA,mCAqDqB,+DAAAxL,CAAW6B,GAAX,CArDrB;;AAAA;AAAA;AAqDDR,+BArDC,SAqDDA,GArDC;AAqDII,kCArDJ,SAqDIA,MArDJ;AAAA;;AAuDH;AACA;AACAA,qCAASA,OAAOrB,GAAP,CAAW,UAAS6B,IAAT,EAAeC,KAAf,EAAsB;AACtCD,qCAAKf,MAAL,GAAcF,KAAKmB,KAAL,CAAWF,KAAKf,MAAhB,CAAd;AACA,uCAAO;AACHA,4CAAOe,KAAKf,MADT;AAEHiL,yCAAIlK,KAAKkK,GAFN;AAGHD,wCAAGjK,KAAKiK,EAHL;AAIHH,2CAAM9J,KAAK8J,KAJR;AAKHP,8CAASvJ,KAAKuJ,QALX;AAMH2B,gDAAWlL,KAAKkL,UANb;AAOHC,mDAAcnL,KAAKmL;AAPhB,iCAAP;AASH,6BAXQ,CAAT;AAzDG;AAAA;;AAAA;AAAA;AAAA;;AAsEH/L;;AAtEG;AAAA;;AAAA,iCAwECA,GAxED;AAAA;AAAA;AAAA;;AAAA,8DAyEQC,QAAQC,MAAR,CAAeF,GAAf,CAzER;;AAAA;AAAA,8DA2EQC,QAAQI,OAAR,CAAgBD,MAAhB,CA3ER;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AA+EX;AACMiL,SAhFK;AAAA,qOAgFCvL,MAhFD;AAAA;;AAAA;AAAA;AAAA;AAAA;AAiFHU,+BAjFG,GAiFG,4CAA4CV,MAjF/C;AAAA;AAAA,mCAkFqB,+DAAAnB,CAAW6B,GAAX,CAlFrB;;AAAA;AAAA;AAkFDR,+BAlFC,SAkFDA,GAlFC;AAkFII,kCAlFJ,SAkFIA,MAlFJ;;AAAA,iCAmFHJ,GAnFG;AAAA;AAAA;AAAA;;AAAA,8DAoFIC,QAAQC,MAAR,CAAeF,GAAf,CApFJ;;AAAA;AAAA,8DAsFIC,QAAQI,OAAR,CAAgBD,MAAhB,CAtFJ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAyFX;AACAoL,kBA1FW,0BA0FI1L,MA1FJ,EA0FY;AACnB,eAAO,KAAKqL,WAAL,CAAiBrL,MAAjB,CAAP;AACH,KA5FU;;AA6FX;AACM4L,kBA9FK;AAAA,qOA8FUM,IA9FV;AAAA;;AAAA;AAAA;AAAA;AAAA;AA+FH7L,kCA/FG,GA+FM,iEA/FN;AAgGH8L,wCAhGG,GAgGY7J,OAAO8J,MAAP,CAAcF,IAAd,CAhGZ;AAAA;AAAA,mCAiGqB,+DAAArN,CAAWwB,MAAX,EAAmB8L,YAAnB,CAjGrB;;AAAA;AAAA;AAiGDjM,+BAjGC,UAiGDA,GAjGC;AAiGII,kCAjGJ,UAiGIA,MAjGJ;;AAAA,iCAkGHJ,GAlGG;AAAA;AAAA;AAAA;;AAAA,8DAmGIC,QAAQC,MAAR,CAAeF,GAAf,CAnGJ;;AAAA;AAAA,8DAqGIC,QAAQI,OAAR,CAAgBD,MAAhB,CArGJ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAwGX;AACMuL,eAzGK;AAAA,sOAyGO7L,MAzGP;AAAA;;AAAA;AAAA;AAAA;AAAA;AA0GHU,+BA1GG,GA0GG,iCAAiCV,MA1GpC;AAAA;AAAA,mCA2GY,+DAAAnB,CAAW6B,GAAX,CA3GZ;;AAAA;AA2GH2L,kCA3GG;;AAAA,iCA4GHA,OAAOnM,GA5GJ;AAAA;AAAA;AAAA;;AAAA,8DA6GIC,QAAQC,MAAR,CAAeiM,OAAOnM,GAAtB,CA7GJ;;AAAA;AA+GHQ,kCAAM,uCAAuCV,MAA7C;AA/GG;AAAA,mCAgHyB,+DAAAnB,CAAW6B,GAAX,CAhHzB;;AAAA;AAAA;AAgHGR,iCAhHH,UAgHGA,GAhHH;AAgHQI,kCAhHR,UAgHQA,MAhHR;;AAAA,iCAiHCJ,KAjHD;AAAA;AAAA;AAAA;;AAAA,8DAkHQC,QAAQC,MAAR,CAAeF,KAAf,CAlHR;;AAAA;AAAA,8DAoHQC,QAAQI,OAAR,CAAgBD,MAAhB,CApHR;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,CAAf,E;;;;;;ACdA,gD;;;;;;ACAA,kC;;;;;;;ACAA;;;;;;;AAOA,IAAIgM,YAAY;AACZrK,UAAM,GADM;AAEZG,cAAU,KAFE;AAGZkE,aAAS;AACLmB,gBAAQ,SADH;AAELD,aAAK,SAFA;AAGLG,gBAAQ;AAHH,KAHG;AAQZrG,cAAU;AACNuG,yBAAiB,EADX;AAENb,cAAM,aAFA;AAGN2D,cAAM,aAHA;AAIN4B,kBAAU,aAJJ;AAKNtK,cAAM,MALA;AAMNuK,kBAAU;AANJ,KARE;AAgBZxK,YAAQ;AAhBI,CAAhB;;AAmBA,yDAAesK,SAAf;;AAEA,yC;;;;;;;AC5BA;AAAA;;;;;;;AAOA;AACA;;AAEA,IAAIvK,YAAY;AACZC,UAAQ,KADI;AAEZC,QAAM,IAFM,EAED;AACXC,WAAQ,GAHI;AAIZC,WAAQ,8BAJI;AAKZC,YAAU;AALE,CAAhB;AAOA,IAAIC,YAAYC,OAAOC,MAAP,CAAc,EAAd,EAAkB,gEAAlB,EAA6BR,SAA7B,CAAhB;;AAEA,yDAAeM,SAAf,E;;;;;;;;;;;;;;;;;AClBO,SAASvD,UAAT,CAAoB2N,SAApB,EAA+B;AACpC,MAAIjN,OAAO,IAAID,IAAJ,CAASkN,SAAT,CAAX;AACA,SAAOjN,KAAKkN,OAAL,KAAiB,GAAjB,GAAuBlN,KAAK+E,QAAL,EAAvB,GAAyC,CAAzC,GAA6C,GAA7C,GAAmD/E,KAAKmF,OAAL,EAAnD,GAAoE,KAApE,GAA4EnF,KAAK+F,QAAL,EAA5E,GAA8F,GAA9F,GAAoG/F,KAAKgG,UAAL,EAApG,GAAwH,GAAxH,GAA8HhG,KAAKmG,UAAL,EAArI;AACD;AACD;;;;AAIO,SAASgH,eAAT,CAAyBC,MAAzB,EAAiC;AACtC,MAAIC,UAAU,EAAd;AAAA,MAAkB1B,SAAS,EAA3B;AACA,OAAK,IAAI3D,GAAT,IAAgBoF,MAAhB,EAAwB;AACtB,QAAIA,OAAOE,cAAP,CAAsBtF,GAAtB,CAAJ,EAAgC;AAC9B,UAAIA,QAAQ,IAAZ,EAAkB;AAChB;AACD;AACDqF,cAAQE,IAAR,CAAavF,MAAM,MAAnB;AACA2D,aAAO4B,IAAP,CAAYH,OAAOpF,GAAP,CAAZ;AACD;AACF;AACDqF,UAAQE,IAAR,CAAa,gBAAb;AACA5B,SAAO4B,IAAP,CAAYxN,KAAKqD,GAAL,EAAZ;AACA,SAAO;AACLiK,aAASA,QAAQ7H,IAAR,CAAa,GAAb,CADJ;AAELmG,YAAQA;AAFH,GAAP;AAID;;AAEM,SAAS6B,QAAT,CAAkBJ,MAAlB,EAA0B;AAC/B,SAAO/M,KAAKmB,KAAL,CAAWnB,KAAKC,SAAL,CAAe8M,MAAf,CAAX,CAAP;AACD;;AAEM,SAASK,OAAT,CAAiBvN,IAAjB,EAAuB;AAC5B,MAAMwN,UAAU3N,KAAKqD,GAAL,KAAa,IAAb,GAAoBuK,OAAOzN,IAAP,CAApC;;AAEA,MAAIwN,UAAU,IAAd,EAAoB;AAClB,WAAOE,UAAU,CAAC,EAAEF,UAAU,EAAZ,CAAX,EAA4B,MAA5B,CAAP;AACD,GAFD,MAEO,IAAIA,UAAU,KAAd,EAAqB;AAC1B,WAAOE,UAAU,CAAC,EAAEF,UAAU,IAAZ,CAAX,EAA8B,MAA9B,CAAP;AACD,GAFM,MAEA;AACL,WAAOE,UAAU,CAAC,EAAEF,UAAU,KAAZ,CAAX,EAA+B,KAA/B,CAAP;AACD;AACF;AACD;;;;AAIO,SAASG,kBAAT,CAA4BxD,GAA5B,EAAiC;AACtC,MAAIyD,UAAU,EAAd;AACAzD,SAAOA,IAAI0D,OAAJ,CAAY7F,MAAnB,IAA6BmC,IAAI0D,OAAJ,CAAY7F,MAAZ,CAAmB1D,KAAnB,CAAyB,GAAzB,EAA8BnD,OAA9B,CAAsC,UAAU2M,MAAV,EAAkB;AACnF,QAAIC,QAAQD,OAAOxJ,KAAP,CAAa,GAAb,CAAZ;AACAsJ,YAAQG,MAAM,CAAN,EAASC,IAAT,EAAR,IAA2B,CAACD,MAAM,CAAN,KAAY,EAAb,EAAiBC,IAAjB,EAA3B;AACD,GAH4B,CAA7B;AAIA,SAAOJ,OAAP;AACD;AACD;;;;;;AAMO,SAASK,iBAAT,CAA2B7L,IAA3B,EAAiC8L,KAAjC,EAAwCC,OAAxC,EAAiD;AACtD,MAAIC,MAAM,IAAIvO,IAAJ,EAAV;AACAuO,MAAIC,OAAJ,CAAYD,IAAIpK,OAAJ,KAAgBmK,UAAU,EAAV,GAAe,IAA3C;AACAG,WAAStG,MAAT,GAAkB5F,OAAO,GAAP,GAAamM,OAAOL,KAAP,CAAb,GAA6B,WAA7B,GAA2CE,IAAII,WAAJ,EAA7D;AACD;;AAED;;;;AAIO,SAASC,iBAAT,CAA2BrM,IAA3B,EAAiC;AACtC,MAAIsM,YAAJ;AAAA,MAASC,MAAM,IAAIC,MAAJ,CAAW,UAAUxM,IAAV,GAAiB,eAA5B,CAAf;AACA,MAAIsM,MAAMJ,SAAStG,MAAT,CAAgB6G,KAAhB,CAAsBF,GAAtB,CAAV,EACE,OAAOG,SAASJ,IAAI,CAAJ,CAAT,CAAP,CADF,KAGE,OAAO,IAAP;AACH;;AAED;;;AAGO,SAASK,WAAT,GAAuB;AAC5B,MAAIC,OAAOA,QAAQ,EAAnB;AACA,GAAC,YAAW;AACV,QAAIC,KAAKX,SAASY,aAAT,CAAuB,QAAvB,CAAT;AACAD,OAAGE,GAAH,GAAS,6DAAT;AACA,QAAI3D,IAAI8C,SAASc,oBAAT,CAA8B,QAA9B,EAAwC,CAAxC,CAAR;AACA5D,MAAE6D,UAAF,CAAaC,YAAb,CAA0BL,EAA1B,EAA8BzD,CAA9B;AACD,GALD;AAQD;AACD;;;AAGO,SAAS+D,UAAT,GAAsB;AAC3B,GAAC,YAAW;AACV,QAAIN,KAAKX,SAASY,aAAT,CAAuB,QAAvB,CAAT;AACAD,OAAGE,GAAH,GAAS,oDAAT;AACA,QAAI3D,IAAI8C,SAASc,oBAAT,CAA8B,QAA9B,EAAwC,CAAxC,CAAR;AACA5D,MAAE6D,UAAF,CAAaC,YAAb,CAA0BL,EAA1B,EAA8BzD,CAA9B;AACD,GALD;AAMD,C;;;;;;ACvGD;;;;;;;AAOAzB,OAAOjH,OAAP,GAAiB;AAChB2H,aAAW,oBAASN,GAAT,EAAaC,GAAb,EAAiBM,IAAjB,EAAuB;AACjC,MAAI,CAACP,IAAIvD,OAAJ,CAAYqE,IAAjB,EAAuB;AACtB;AACA,UAAOb,IAAIC,QAAJ,CAAa,SAAb,CAAP;AACA;AACDK;AACA,EAPe;AAQhB8E,gBAAc,uBAASrF,GAAT,EAAaC,GAAb,EAAiBM,IAAjB,EAAsB;AACnC,MAAIP,IAAIvD,OAAJ,CAAYqE,IAAhB,EAAsB;AACrB;AACA,UAAOb,IAAIC,QAAJ,CAAa,MAAb,CAAP,CAFqB,CAEO;AAC5B;AACDK;AACA;AAde,CAAjB,C;;;;;;ACPAX,OAAOjH,OAAP,GAAiB;AAChB;;;AAGA2M,OAAM;AACLC,SAAO;AACNC,QAAK,GADC;AAEN1H,WAAQ;AAFF,GADF;AAKLiD,SAAO,UALF;AAML0E,QAAM,CAAC;AACNC,YAAS;AADH,GAAD,EAGN;AACCzN,SAAM,UADP;AAEC3C,YAAS;AAFV,GAHM,EAOJ;AACEqQ,QAAK,aADP;AAEE1N,SAAM,aAFR;AAGE3C,YAAS;AAHX,GAPI;AAYN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACC2C,SAAM,QADP;AAEC3C,YAAS;AAFV,GAtBM,EA0BN;AACC2C,SAAM,4BADP;AAEC3C,YAAS;AAFV,GA1BM,EA8BN;AACC2C,SAAM,8BADP;AAEC3C,YAAS;AAFV,GA9BM,EAkCN;AACC2C,SAAM,uCADP;AAEC3C,YAAS;AAFV,GAlCM;AAsCN;AACA;AACC2C,SAAM,oBADP;AAEC3C,YAAS;AAFV,GAvCM,EA2CN;AACC2C,SAAM,gBADP;AAEC3C,YAAS;AAFV,GA3CM,EA+CN;AACC2C,SAAM,aADP;AAEC3C,YAAS;AAFV,GA/CM,EAmDN;AACC2C,SAAM,eADP;AAEC3C,YAAS;AAFV,GAnDM,CAND;AA2ELsQ,QAAM,CAAC;AACNC,QAAK,MADC;AAENC,SAAM,cAFA;AAGNC,SAAM;AAHA,GAAD;AA3ED,EAJU;AAqFhBC,MAAK,CAAC;AACLhB,OAAK,wBADA;AAELiB,QAAM;AAFD,EAAD,CArFW;AAyFhB;;;AAGAvG,QAAO;AACNwG,UAAQ,CAAC,OAAD,EAAU,kBAAV;AACR;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAdM,EA5FS;AA4GhBC,UAAS;AACRC,SAAO,SADC;AAERC,UAAQ,KAFA;AAGRC,eAAa;AAHL,EA5GO;AAiHhB;AACAC,aAAY;AACXtO,QAAM;AADK,EAlHI;AAqHhB;AACAkI,SAAQ;AACP;AADO,EAtHQ;AAyHhB;AACAqG,UAAS,CACR;AACAxB,OAAK;AADL,EADQ,EAIT;AACCA,OAAK,2BADN;AAECyB,OAAK;AAFN,EAJS;AA1HO,CAAjB,C;;;;;;ACAA,iC;;;;;;ACAA,kBAAkB,sIAAsI,QAAQ,eAAe,YAAY,kiBAAkiB,iBAAiB,kcAAkc,oBAAoB,0S;;;;;;ACApsC,+B;;;;;;ACAA,kC;;;;;;ACAA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,OAAO;AACtC;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,+BAA+B,OAAO;AACtC;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;;;;;;ACjCA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA,sCAAsC,2BAA2B;AACjE;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B,4CAA4C;AAC5C,sCAAsC;AACtC,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;AACA;AACA,0CAA0C;AAC1C;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;AACA;AACA,mCAAmC,SAAS;AAC5C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AC9ZA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,+BAA+B,EAAE;AACjC;AACA;AACA;;AAEA,qCAAqC;AACrC,mCAAmC;AACnC,kCAAkC;AAClC,wCAAwC;AACxC,0CAA0C;AAC1C,2BAA2B;AAC3B,oCAAoC;AACpC,iCAAiC;AACjC,uCAAuC;AACvC,2CAA2C;AAC3C,0CAA0C;AAC1C,2CAA2C;AAC3C,iDAAiD;AACjD,sCAAsC;AACtC,4CAA4C;AAC5C,iDAAiD;AACj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1C,kCAAkC;AAClC,kCAAkC;AAClC,mCAAmC;AACnC,uCAAuC;AACvC,oCAAoC;AACpC,kCAAkC;AAClC,0CAA0C;AAC1C,qCAAqC;AACrC,8CAA8C;AAC9C,gCAAgC;AAChC,2BAA2B;AAC3B,iCAAiC;AACjC,wCAAwC;AACxC,uCAAuC;AACvC,kCAAkC;AAClC,wCAAwC;AACxC,2CAA2C;AAC3C,2CAA2C;AAC3C,kDAAkD;AAClD,oCAAoC;AACpC,sCAAsC;AACtC,kCAAkC;AAClC,qCAAqC;AACrC,sCAAsC;AACtC,oCAAoC;AACpC,mCAAmC;AACnC,mCAAmC;AACnC,kCAAkC;AAClC,oCAAoC;AACpC,oCAAoC;AACpC,8BAA8B;AAC9B,mCAAmC;AACnC,8BAA8B;AAC9B,4BAA4B;AAC5B,mCAAmC;AACnC,iCAAiC;AACjC,mCAAmC;AACnC,gCAAgC;AAChC,iCAAiC;AACjC,oCAAoC;AACpC,oCAAoC;AACpC,+BAA+B;;AAE/B;AACA;;;AAGA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;;;;;;AC7YA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,OAAO;AACtC;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,+BAA+B,OAAO;AACtC;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AClCA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,YAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,sBAAsB,kBAAkB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,YAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA,QAAQ,gBAAgB;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,QAAQ,OAAO;AACf;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;;;;;;;AC9OA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO,UAAU;AAC5B,YAAY;AACZ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;AC9BA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,QAAQ,OAAO;AACf,QAAQ,SAAS;AACjB,QAAQ,SAAS;AACjB,QAAQ,SAAS;AACjB;AACA;AACA,2CAA2C;AAC3C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA,GAAG;;AAEH;AACA;;;AAGA;;;;;;;AC7GA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB;AACA,YAAY;AACZ;AACA;AACA;AACA,gCAAgC,YAAY;AAC5C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;;AAEA,QAAQ,eAAe;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK,kBAAkB;AACvB;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;ACzEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ,QAAQ,OAAO;AACf,QAAQ,QAAQ;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA,cAAc,gCAAgC;AAC9C;AACA;AACA,2CAA2C;;AAE3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 8);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 23f888201cb1bf7c6e5d","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 0\n// module chunks = 0","module.exports = require(\"regenerator-runtime\");\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.6.26.0@babel-runtime/regenerator/index.js\n// module id = 1\n// module chunks = 0","module.exports = require(\"marked\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"marked\"\n// module id = 2\n// module chunks = 0","/*\n * @Author: huangchengdu\n * @Date:   2017-01-14 14:17:43\n * @Last Modified by:   huangchengdu\n * @Last Modified time: 2017-01-14 14:18:22\n */\n\nlet marked = require('marked');\nlet mysqlQuery = require('../lib/sql').mysqlQuery;\nlet formatDate = require('../lib/util.date').formatDate;\n\nfunction contentToHtml(posts) {\n    return posts.map(function(post) {\n        post.content = marked(post.content);\n        return post;\n    });\n}\n\nexport default  {\n    // 创建一个留言\n    async create(comment) {\n        const dateMap = formatDate(new Date(), 'typeDictionary');\n        const date = dateMap.yearMonthDay + \" \" + dateMap.time;\n        let addSql = 'INSERT INTO comments(author,content,postId,created_at) VALUES(?,?,?,?)';\n        let addSqlParams = [JSON.stringify(comment.author), comment.content, comment.postId, date];\n        let commentRes = await mysqlQuery(addSql, addSqlParams);\n        if (commentRes.err) {\n            Promise.reject(commentRes.err);\n        } else {\n            let modSql = 'UPDATE posts SET commentsCount = commentsCount + 1 where _id=' + comment.postId;\n            let { err, result } = await mysqlQuery(modSql);\n            if (err) {\n                Promise.reject(err);\n            } else {\n                Promise.resolve(commentRes.result);\n            }\n        }\n    },\n    // 通过用户 id 和留言 id 删除一个留言\n    async delCommentById(commentId, postId) {\n        let sql = 'DELETE FROM comments where _id=' + commentId;\n        let commentRes = await mysqlQuery(sql);\n        if (commentRes.err) {\n            Promise.reject(commentRes.err);\n        } else {\n            let modSql = 'UPDATE posts SET commentsCount = commentsCount - 1 where _id=' + postId;\n            let { err, result } = await mysqlQuery(modSql);\n            if (err) {\n                Promise.reject(err);\n            } else {\n                Promise.resolve(commentRes.result);\n            }\n        }\n    },\n    // 通过文章 id 获取该文章下所有留言，按留言创建时间升序\n    async getComments(postId, cb) {\n        let sql = 'SELECT * FROM comments where postId=' + postId;\n        let { err, result } = await mysqlQuery(sql);\n        try {\n            result = contentToHtml(result);\n            result.forEach(function(item, index) {\n                item.author = JSON.parse(item.author);\n            });\n        } catch (e) {\n            err = e;\n        } finally {\n            if (err) {\n                return Promise.reject(err);\n            } else {\n                return Promise.resolve(result);\n            }\n        }\n    }\n};\n\n\n// WEBPACK FOOTER //\n// ./server/models/comments.js","let mysql = require('mysql');\nimport getConfig from '../../config';\nlet config = getConfig(process.env.NODE_ENV);\n\n\nlet pool = mysql.createPool(config.dbConfig);\n/**\n * sql, SqlParams  参数只可能是一个或者两个\n * @return {[type]} [description]\n */\n// module.exports.mysqlQuery = function(...args) {\n//     return new Promise((resolve, reject) => {\n//         try {\n//             pool.getConnection(function(err, connection) {\n//                 if (err) {\n//                     reject({ err: err, result: \"failure\" });\n//                 } else {\n//                     connection.query(...args, function(err, result, fields) {\n//                         if (err) {\n//                             reject({ err, result });\n//                         } else {\n//                             resolve({ err, result });\n//                         }\n//                         connection.release();\n//                     });\n//                 }\n\n//             });\n//         } catch (e) {\n//             reject({ err: e, result: \"failure\" });\n//         } finally {\n\n//         }\n//     });\n// }\n\nexport  function mysqlQuery(...args) {\n    return new Promise((resolve, reject) => {\n        try {\n            pool.getConnection(function(err, connection) {\n                if (err) {\n                    reject({ err: err, result: \"failure\" });\n                } else {\n                    connection.query(...args, function(err, result, fields) {\n                        if (err) {\n                            reject({ err, result });\n                        } else {\n                            resolve({ err, result });\n                        }\n                        connection.release();\n                    });\n                }\n\n            });\n        } catch (e) {\n            reject({ err: e, result: \"failure\" });\n        } finally {\n\n        }\n    });\n}\n\n\n// WEBPACK FOOTER //\n// ./server/lib/sql.js","import development from './development.js'\nimport production from './production.js'\n\nexport default function getConfig(name=\"production\") {\n    if (name=='production') {\n        return production;\n    } else {\n        return development;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./config/index.js","// let devConfig = require('./default.js');\nimport {default as devConfig} from './default.js';\n\nlet proConfig = {\n    devEnv: true,\n    port: 5389,\n    apiPort:5389,\n    apiHost:\"http://127.0.0.1\",\n    sslModel: false\n}\nlet disConfig = Object.assign({}, devConfig, proConfig);\n\nexport default disConfig;\n\n\n// WEBPACK FOOTER //\n// ./config/development.js","exports.formatDate = formatDate;\nexports.dateFromDateStr = dateFromDateStr;\nexports.getToday = getToday;\nexports.monthOffset = monthOffset;\n\nfunction getToday() {\n    var now = new Date();\n    now.setHours(0);\n    now.setMinutes(0);\n    now.setSeconds(0);\n    now.setMilliseconds(0);\n    return now;\n}\n\nfunction pad(val, len) {\n    val = String(val);\n    len = len || 2;\n    while (val.length < len) val = \"0\" + val;\n    return val;\n}\n\nvar weeks = [\"日\", \"一\", \"二\", \"三\", \"四\", \"五\", \"六\"],\n    offset = 0;\n\nfunction dateOffset(realDate) {\n    offset = (new Date()).getTime() - realDate.getTime();\n}\n//yyyy-MM-dd HH:mm:ss  支持缩短  支持/\nfunction dateFromDateStr(dateStr) {\n    return new Date(Date.parse(dateStr.replace(/-/g, \"/\")));\n}\n\n//有效期，出行日期\n//data1,date2都是yyyy-MM-dd格式的时间字符串\nfunction monthOffset(endDate, startDate) {\n    var endArr = endDate.split('-');\n    var startArr = startDate.split('-');\n    if (!endArr || !endArr.length || !startArr || !startArr.length) {\n        return null;\n    }\n    var offset = (endArr[0] - startArr[0]) * 12 + (endArr[1] - startArr[1]);\n    if (endArr[2] - startArr[2] < 0) {\n        offset -= 1;\n    }\n    return offset;\n}\n\nfunction formatDate(date, returnType, fixOffset) {\n    date = date || new Date();\n    if (fixOffset) {\n        //For the real date\n        if (offset)\n            date = new Date(date.getTime() - offset);\n        //Set timezone for china.\n        var zone = -date.getTimezoneOffset() / 60;\n        if (zone != 8)\n            date = new Date(date.getTime() + (8 - zone) * 60 * 60 * 1000);\n    }\n    if (returnType == \"date\") {\n        return date;\n    }\n    var month = date.getMonth() + 1,\n        year = date.getFullYear(),\n        day = date.getDate(),\n        week = date.getDay(),\n        ar = [year, pad(month), pad(day)],\n        str = ar.join(\"-\");\n\n    if (!returnType)\n        return str;\n\n    var str1 = ar.join(\"\");\n\n    if (returnType == \"humanize\") {\n        var sub = \" 周\" + weeks[week];\n        var today = new Date();\n        if (year == today.getFullYear() && month == (today.getMonth() + 1) && day == today.getDate()) {\n            sub = \" 今天\";\n        }\n        var tomorrow = new Date(today.getTime() + 24 * 60 * 60 * 1000);\n        if (year == tomorrow.getFullYear() && month == (tomorrow.getMonth() + 1) && day == tomorrow.getDate()) {\n            sub = \" 明天\";\n        }\n        return (month + \"月\" + day + \"日\" + sub);\n    }\n    if (returnType == \"humanizeFull\") {\n        var sub = \" 周\" + weeks[week];\n        var today = new Date();\n        if (year == today.getFullYear() && month == (today.getMonth() + 1) && day == today.getDate()) {\n            sub = \" 今天\";\n        }\n        var tomorrow = new Date(today.getTime() + 24 * 60 * 60 * 1000);\n        if (year == tomorrow.getFullYear() && month == (tomorrow.getMonth() + 1) && day == tomorrow.getDate()) {\n            sub = \" 明天\";\n        }\n        return (year + \"年\" + month + \"月\" + day + \"日\" + sub);\n    }\n\n    if (returnType == \"weekday\") {\n        var sub = \" 周\" + weeks[week];\n        var today = new Date();\n        if (year == today.getFullYear() && month == (today.getMonth() + 1) && day == today.getDate()) {\n            sub = \" 今天\";\n        }\n        var tomorrow = new Date(today.getTime() + 24 * 60 * 60 * 1000);\n        if (year == tomorrow.getFullYear() && month == (tomorrow.getMonth() + 1) && day == tomorrow.getDate()) {\n            sub = \" 明天\";\n        }\n        return {\n            day: month + \"月\" + day + \"日\",\n            weekday: sub,\n        }\n    }\n\n    if (returnType == \"dayWeekDayHourMinite\") {\n        var sub = \" 周\" + weeks[week];\n        var today = new Date();\n        if (year == today.getFullYear() && month == (today.getMonth() + 1) && day == today.getDate()) {\n            sub = \" 今天\";\n        }\n        var tomorrow = new Date(today.getTime() + 24 * 60 * 60 * 1000);\n        if (year == tomorrow.getFullYear() && month == (tomorrow.getMonth() + 1) && day == tomorrow.getDate()) {\n            sub = \" 明天\";\n        }\n        return {\n            day: pad(month) + \"-\" + pad(day),\n            weekday: sub,\n            hour: pad(date.getHours()) + \":\" + pad(date.getMinutes()),\n        }\n    }\n\n    //05-30\n    if (returnType == \"Month-Day\") {\n        return month + \"-\" + day;\n    }\n\n    if (returnType == \"Year-Month-Day\") {\n        return year + \"-\" + month + \"-\" + day;\n    }\n\n    if (returnType == \"tight\") {\n        return str1;\n    }\n\n\n    var hour = date.getHours(),\n        min = date.getMinutes(),\n        sec = date.getSeconds();\n\n    if (returnType == \"tightFull\") {\n        return str1 + pad(hour) + pad(min) + pad(sec);\n    }\n\n    if (returnType == \"hour\") {\n        return pad(hour);\n    }\n\n    if (returnType == \"time\") {\n        return pad(hour) + \":\" + pad(min) + \":\" + pad(sec);\n    }\n\n    if (returnType == \"datetime\") {\n        return str + \" \" + pad(hour) + \":\" + pad(min) + \":\" + pad(sec);\n    }\n\n    //19:00\n    if (returnType == \"hour:sec\") {\n        return pad(hour) + \":\" + pad(min);\n    }\n\n    if (returnType == \"typeDictionary\") {\n        var sub = \" 周\" + weeks[week];\n        var today = new Date();\n        if (year == today.getFullYear() && month == (today.getMonth() + 1) && day == today.getDate()) {\n            sub = \" 今天\";\n        }\n        var tomorrow = new Date(today.getTime() + 24 * 60 * 60 * 1000);\n        if (year == tomorrow.getFullYear() && month == (tomorrow.getMonth() + 1) && day == tomorrow.getDate()) {\n            sub = \" 明天\";\n        }\n        var monthDay = month + \"月\" + day + \"日\",\n            yearMonthDay = year + \"年\" + monthDay,\n            dateShort = month + \"-\" + day,\n            dateShort1 = month + \"/\" + day,\n            dateShort2 = pad(month) + \"-\" + pad(day),\n            str2 = ar.join(\"/\"),\n            shortTightTime = pad(hour) + pad(min),\n            tightTime = shortTightTime + pad(sec),\n            shortTime = pad(hour) + \":\" + pad(min),\n            time = shortTime + \":\" + pad(sec);\n        return {\n            monthDay: monthDay, // MM月dd日\n            yearMonthDay: yearMonthDay, // yyyy年MM月dd日\n            weekday: sub, // 今天/明天/周x\n            dateStr: str, // yyyy-MM-dd\n            dateStr1: str2, // yyyy/MM/dd\n            dateShort: dateShort, // MM-dd\n            dateShort1: dateShort1, // MM/dd\n            dateShort2: dateShort2, // MM-dd  补零\n            tightDate: str1, // yyyyMMdd\n            shortTightTime: shortTightTime, // hhmm\n            tightTime: tightTime, // hhmmss\n            shortTime: shortTime, // hh:mm\n            time: time // hh:mm:ss\n        }\n    }\n\n    return str;\n}\n\n\n// WEBPACK FOOTER //\n// ./server/lib/util.date.js","import {\n  Nuxt,\n  Builder\n} from 'nuxt'\nimport express from 'express'\nvar session = require('express-session');\nvar MySQLStore = require('express-mysql-session')(session);\nvar winston = require('winston');\nvar expressWinston = require('express-winston');\nimport {\n  startRouter\n} from './api/index'\nlet nuxtConfig = require('../nuxt.config.js');\nimport getConfig from '../config';\nvar path = require('path');\nvar pkg = require('../package');\nlet config = getConfig(process.env.NODE_ENV);\nvar fs = require('fs');\nimport axios from 'axios';\n\n// process.env.DEBUG = 'nuxt:*'\n\nconst app = express();\nconst host = process.env.HOST || '127.0.0.1';\nconst port = process.env.PORT || config.port;\n\n// console.log(\"===========dirname\",__dirname);\napp.set('views', path.join(__dirname, 'views'));\napp.set('view engine', 'jade');\n\n// session 中间件\napp.use(session({\n  key: config.session.key,\n  secret: config.session.secret,\n  cookie: {\n    maxAge: config.session.maxAge\n  },\n  store: new MySQLStore(config.dbConfig),\n  connectionLimit: 10,\n  expiration: 86400000,\n  resave: true,\n  saveUninitialized: true\n}));\n// 处理表单及文件上传的中间件\n// app.use(require('express-formidable')({\n//   uploadDir: uploadDir,\n//   keepExtensions: true // 保留后缀\n// }));\n\nlet uploadDir = \"/usr/local/webserver/nginx/static/img\";\nif (config.devEnv) {\n  uploadDir = path.join(__dirname, 'static/img');\n}\n\n// app.locals.blog = {\n//   title: pkg.name,\n//   description: pkg.description\n// };\n\n// 使用上的区别在于：app.locals 上通常挂载常量信息（如博客名、描述、作者信息），res.locals 上通常挂载变量信息，即每次请求可能的值都不一样（如请求者信息，res.locals.user = req.session.user）。\n// app.use(function (req, res, next) {\n//   // res.locals.user = req.session.user;\n//   // res.locals.success = req.flash('success').toString();\n//   // res.locals.error = req.flash('error').toString();\n//   next();\n// });\n\napp.use(expressWinston.logger({\n  transports: [\n    // new(winston.transports.Console)({\n    //   json: true,\n    //   colorize: true\n    // }),\n    new winston.transports.File({\n      filename: 'server/logs/success.log'\n    })\n  ]\n}));\n\nstartRouter(app);\n\napp.use(expressWinston.errorLogger({\n  transports: [\n    new winston.transports.Console({\n      json: true,\n      colorize: true\n    }),\n    new winston.transports.File({\n      filename: 'server/logs/error.log'\n    })\n  ]\n}));\n\n// error page\n// app.use(function (err, req, res, next) {\n// \tres.render('error', {\n// \t\terror: err\n// \t});\n// });\n\nprocess.on('uncaughtException', (err) => {\n  fs.writeSync(1, `Caught exception: ${err}\\n`);\n});\n//promise错误未处理\nprocess.on('unhandledRejection', (reason, p) => {\n  console.log('未处理的==========================Rejection at:', p, 'reason:', reason);\n});\n//系统警告\nprocess.on('warning', (warning) => {\n  console.warn(warning.name); // Print the warning name\n  console.warn(warning.message); // Print the warning message\n  console.warn(warning.stack); // Print the stack trace\n});\n\n\n\nlet nuxt = new Nuxt(nuxtConfig);\nif (config.devEnv) {\n  const builder = new Builder(nuxt);\n  builder.build();\n}\n// Add nuxt.js middleware\napp.use(nuxt.render);\n\n\n\nif (module.parent) {\n  module.exports = app;\n} else {\n  // Listen the server\n  app.listen(port, host, function () {\n    console.log('Server listening on http://' + host + ':' + port); // eslint-disable-line no-console\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/index.js","module.exports = function(originalModule) {\r\n\tif(!originalModule.webpackPolyfill) {\r\n\t\tvar module = Object.create(originalModule);\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"exports\", {\r\n\t\t\tenumerable: true,\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/harmony-module.js\n// module id = 9\n// module chunks = 0","module.exports = require(\"nuxt\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"nuxt\"\n// module id = 10\n// module chunks = 0","module.exports = require(\"express-session\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express-session\"\n// module id = 11\n// module chunks = 0","module.exports = require(\"express-mysql-session\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express-mysql-session\"\n// module id = 12\n// module chunks = 0","module.exports = require(\"winston\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"winston\"\n// module id = 13\n// module chunks = 0","module.exports = require(\"express-winston\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express-winston\"\n// module id = 14\n// module chunks = 0","import PostModule from './posts.js';\n\nexport function startRouter(app) {\n    \n        //实现登陆拦截\n       // app.use('/api', jwtAuth)\n    \n        // app.get('/api', (req, res) => {\n        //     res.json({ message: '欢迎使用黄成都的API服务！' });\n        // })\n        app.get('/', function(req, res) {\n            res.redirect('/posts');\n        });\n    \n        // app.use('/api/user', require('./user'))\n    \n        // app.use('/api/post', require('./post'))\n    \n        // app.use('/api/tag', require('./tag'))\n    \n        // app.use('/api/post/tag', require('./postTag'))\n\n        // app.get('/', function(req, res) {\n        //     res.redirect('/posts');\n        // });\n        // app.use('/signup', require('./signup'));\n        // app.use('/signin', require('./signin'));\n        // app.use('/signout', require('./signout'));\n        app.use('/api/posts', PostModule);\n\n        // 404 page\n        // app.use(function(req, res) {\n        //     if (!res.headersSent) {\n        //         res.status(404).render('404');\n        //     }\n        // });\n    \n    }\n\n\n// WEBPACK FOOTER //\n// ./server/api/index.js","/*\n * @Author: huangchengdu\n * @Date:   2017-01-13 21:41:07\n * @Last Modified by:   huangchengdu\n * @Last Modified time: 2017-01-14 14:53:01\n */\n\nlet express = require('express');\nlet router = express.Router();\n// let PostModel = require('../models/posts');\nimport PostModel from '../models/posts';\nvar xss = require('xss');\nimport {\n\tpostToSQLUpdate\n} from '../../util/assist';\n// let CommentModel = require('../models/comments');\nimport CommentModel from '../models/comments';\nlet checkLogin = require('../middlewares/check').checkLogin;\n\n//GET /posts 所有用户或者特定用户的文章页\n// eg: GET /posts?author=xxx\nrouter.get('/', function (req, res, next) {\n\tlet authorId = req.query && req.query.author;\n\t//console.log(\"queyr=========\", req.query);\n\t// return PostModel.getPosts(authorId);\n\t//Promise.resolve(\"23423\");\n\tPostModel.getPosts(authorId).then(posts => {\n\t\t// res.render('posts', {\n\t\t//     posts: posts\n\t\t// });\n\t\t//console.log(\"============posts====================\",posts);\n\t\t// res.header('ETag', null);\n\t\t// delete res.header.ETag;\n\t\tres.json(posts);\n\t\t//return Promise.resolve(posts);\n\t}).catch(error => {\n\t\tres.json(error)\n\t});\n});\n\n// GET /posts/create 发表文章页\nrouter.get('/create', checkLogin, function (req, res, next) {\n\tres.render('create');\n});\n\n// POST /posts 发表一篇文章\nrouter.post('/', checkLogin, function (req, res, next) {\n\tlet author = req.session.user;\n\tlet title = req.fields.title;\n\tlet content = req.fields.content;\n\ttry {\n\t\tif (!title.length) {\n\t\t\tthrow new Error('请填写标题');\n\t\t}\n\t\tif (!content.length) {\n\t\t\tthrow new Error('请填写内容');\n\t\t}\n\t} catch (e) {\n\t\treq.flash('error', e.message);\n\t\treturn res.redirect('back');\n\t}\n\tlet post = {\n\t\tauthor: author,\n\t\ttitle: title,\n\t\tcontent: content,\n\t\tpv: 0\n\t};\n\tPostModel.create(post).then(post => {\n\t\treq.flash('success', '发表成功');\n\t\t// 发表成功后跳转到该文章页\n\t\tres.redirect(`/posts/${post._id}`);\n\t}).catch(next);\n});\n\nvar excludeSpecial = function(s) {  \n    // 去掉转义字符  \n    s = s.replace(/[\\'\\\"\\\\\\/\\b\\f\\n\\r\\t]/g, '');  \n    // 去掉特殊字符  \n    s = s.replace(/[\\@\\#\\$\\%\\^\\&\\*\\{\\}\\:\\\"\\L\\<\\>\\?]/);  \n    return s;  \n }; \n\n// GET /posts/:postId 单独一篇的文章页\nrouter.get('/:postId', function (req, res, next) {\n\tlet postId = req.params.postId;\n\tPromise.all([\n\t\tPostModel.getPostById(postId), //获取文章\n\t\tCommentModel.getComments(postId), //获取评论\n\t\tPostModel.incPv(postId) //添加访问次数\n\t]).then(result => {\n\t\tlet post = result[0];\n\t\tlet comments = result[1];\n\t\t//console.log(\"comments============\",comments);\n\t\t// post.content = xss(post.content);\n\t\tpost.content = post.content.replace(\"<script>\",\"script\");\n\t\tpost.content = post.content.replace(\"<iframe>\",\"iframe\");\n\t\t// // post.content = post.content.replace(\"$-_.+!*'()\",\"'$-_.+!*'()'\");\n\t\t// post.content = excludeSpecial(post.content);\n\t\tres.render('index', {mdContent: post.content},function(err,result) {\n\n\t\t\t// console.log(\"result====\",result);\n\t\t\t// post.content = xss(result);\n\t\t\tpost.content = result;\n\t\t\tres.json({post,comments});\n\t\t\t// console.log(\"===========result=============\",result,err);\n\t\t});\n\t\t// res.json(post);\n\t\t// let comments = result[1];\n\t\t// if (!post) {\n\t\t//     throw new Error('该文章不存在');\n\t\t// }\n\t\t// res.render('post', {\n\t\t//     post: post,\n\t\t//     comments: comments\n\t\t// });\n\t}).catch(error => {\n\t\tres.json(error)\n\t});\n});\n\n// GET /posts/:postId/edit 更新文章页\nrouter.get('/:postId/edit', checkLogin, function (req, res, next) {\n\tlet postId = req.params.postId;\n\tlet author = req.session.user._id;\n\n\tPostModel.getRawPostById(postId)\n\t\t.then(function (post) {\n\t\t\tif (!post) {\n\t\t\t\tthrow new Error('该文章不存在');\n\t\t\t}\n\t\t\tif (author.toString() !== post.author._id.toString()) {\n\t\t\t\tthrow new Error('权限不足');\n\t\t\t}\n\t\t\tres.render('edit', {\n\t\t\t\tpost: post\n\t\t\t});\n\t\t})\n\t\t.catch(next);\n});\n\n// POST /posts/:postId/edit 更新一篇文章\nrouter.post('/:postId/edit', checkLogin, function (req, res, next) {\n\tlet postId = req.params.postId;\n\tlet author = req.session.user;\n\tlet title = req.fields.title;\n\tlet content = req.fields.content;\n\n\tPostModel.updatePostById({\n\t\ttitle: title,\n\t\tcontent: content,\n\t\tauthor: JSON.stringify(author),\n\t\tpostId: postId\n\t}).then(result => {\n\t\treq.flash('success', '编辑文章成功');\n\t\t// 编辑成功后跳转到上一页\n\t\tres.redirect(`/posts/${postId}`);\n\t}).catch(next);\n});\n\n// GET /posts/:postId/remove 删除一篇文章\nrouter.get('/:postId/remove', checkLogin, function (req, res, next) {\n\tlet postId = req.params.postId;\n\tPostModel.delPostById(postId)\n\t\t.then(function () {\n\t\t\treq.flash('success', '删除文章成功');\n\t\t\t// 删除成功后跳转到主页\n\t\t\tres.redirect('/posts');\n\t\t})\n\t\t.catch(next);\n});\n\n// POST /posts/:postId/comment 创建一条留言\nrouter.post('/:postId/comment', checkLogin, function (req, res, next) {\n\tlet author = req.session.user;\n\tlet postId = req.params.postId;\n\tlet content = req.fields.content;\n\tlet comment = {\n\t\tauthor: author,\n\t\tpostId: postId, //文章id\n\t\tcontent: content\n\t};\n\tCommentModel.create(comment)\n\t\t.then(result => {\n\t\t\treq.flash('success', '留言成功');\n\t\t\t// 留言成功后跳转到上一页\n\t\t\tres.redirect('back');\n\t\t}).catch(next);\n});\n\n// GET /posts/:postId/comment/:commentId/remove 删除一条留言\nrouter.get('/:postId/comment/:commentId/remove', checkLogin, function (req, res, next) {\n\tlet commentId = req.params.commentId;\n\tlet postId = req.params.postId;\n\tCommentModel.delCommentById(commentId, postId)\n\t\t.then(result => {\n\t\t\treq.flash('success', '删除留言成功');\n\t\t\t// 删除成功后跳转到上一页\n\t\t\tres.redirect('back');\n\t\t})\n\t\t.catch(next);\n});\n\nexport default router;\n\n\n\n// WEBPACK FOOTER //\n// ./server/api/posts.js","let marked = require('marked');\nlet CommentModel = require('./comments');\n// let mysqlQuery = require('../lib/sql').mysqlQuery;\nimport {mysqlQuery} from '../lib/sql.js';\nlet formatDate = require('../lib/util.date').formatDate;\n\n\nfunction contentToHtml(posts) {\n    return posts.map(function(post) {\n        post.content = marked(post.content);\n        return post;\n    });\n}\n\nexport default {\n    // 创建一篇文章\n    async create(post) {\n        const dateMap = formatDate(new Date(), 'typeDictionary');\n        const date = dateMap.yearMonthDay + \" \" + dateMap.time;\n\n        let addSql = 'INSERT INTO posts(author,title,content,pv,created_at,commentsCount,authorId) VALUES(?,?,?,?,?,?,?)';\n        let addSqlParams = [JSON.stringify(post.author), post.title, post.content, '0', date, '0', post.author._id];\n        let addRet = await mysqlQuery(addSql, addSqlParams);\n        if (!addRet.err && addRet.result.insertId) {\n            let sql = 'SELECT * FROM posts where _id=' + addRet.result.insertId;\n            let { err, result } = await mysqlQuery(sql);\n            try {\n                result = result[0];\n                result.author = JSON.parse(result.author);\n                result.content = marked(result.content);\n            } catch (e) {\n                err = e;\n            } finally {\n                if (err) {\n                    return Promise.reject(err);\n                } else {\n                    return Promise.resolve(result);\n                }\n            }\n        } else {\n            return Promise.reject(err);\n        }\n    },\n    // 通过文章 id 获取一篇文章\n    async getPostById(postId) {\n        const sql = 'SELECT * FROM posts where _id=' + postId;\n        let { err, result } = await mysqlQuery(sql);\n        try {\n            result = result[0];\n            result.author = JSON.parse(result.author);\n            result.content = marked(result.content);\n        } catch (e) {\n            err = e;\n        } finally {\n            if (err) {\n                return Promise.reject(err);\n            } else {\n                return Promise.resolve(result);\n            }\n        }\n    },\n    // 按创建时间降序获取所有用户文章或者某个特定用户的所有文章\n    async getPosts(authorId) {\n        let sql = 'SELECT * FROM posts';\n        if (authorId) {\n            sql = sql + \" where authorId=\" + authorId;\n        }\n        let { err, result } = await mysqlQuery(sql);\n        try {\n            //result = contentToHtml(result);\n            //var resResult = [];\n            result = result.map(function(item, index) {\n                item.author = JSON.parse(item.author);\n                return {\n                    author:item.author,\n                    _id:item._id,\n                    pv:item.pv,\n                    title:item.title,\n                    authorId:item.authorId,\n                    created_at:item.created_at,\n                    commentsCount:item.commentsCount\n                }\n            });\n        } catch (e) {\n            err = e;\n        } finally {\n            if (err) {\n                return Promise.reject(err);\n            } else {\n                return Promise.resolve(result);\n            }\n        }\n    },\n    // 通过文章 id 给 pv 加 1\n    async incPv(postId) {\n        let sql = 'UPDATE posts SET pv = pv + 1 where _id=' + postId;\n        let { err, result } = await mysqlQuery(sql);\n        if (err) {\n            return Promise.reject(err);\n        } else {\n            return Promise.resolve(result);\n        }\n    },\n    // 通过文章 id 获取一篇原生文章（编辑文章）\n    getRawPostById(postId) {\n        return this.getPostById(postId);\n    },\n    // 通过用户 id 和文章 id 更新一篇文章\n    async updatePostById(data) {\n        let modSql = 'UPDATE posts SET title = ?,content = ?,author = ? WHERE _id = ?';\n        let modSqlParams = Object.values(data);\n        let { err, result } = await mysqlQuery(modSql, modSqlParams);\n        if (err) {\n            return Promise.reject(err);\n        } else {\n            return Promise.resolve(result);\n        }\n    },\n    // 通过用户 id 和文章 id 删除一篇文章\n    async delPostById(postId) {\n        let sql = 'DELETE FROM posts where _id=' + postId;\n        let delRes = await mysqlQuery(sql);\n        if (delRes.err) {\n            return Promise.reject(delRes.err);\n        } else {\n            sql = 'DELETE FROM comments where postId=' + postId;\n            let { err, result } = await mysqlQuery(sql);\n            if (err) {\n                return Promise.reject(err);\n            } else {\n                return Promise.resolve(result);\n            }\n        }\n    }\n};\n\n\n// WEBPACK FOOTER //\n// ./server/models/posts.js","module.exports = require(\"regenerator-runtime\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"regenerator-runtime\"\n// module id = 18\n// module chunks = 0","module.exports = require(\"mysql\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mysql\"\n// module id = 19\n// module chunks = 0","/*\n * @Author: huangchengdu\n * @Date:   2017-01-13 16:19:01\n * @Last Modified by:   huangchengdu\n * @Last Modified time: 2017-01-16 11:00:33\n */\n\nlet devConfig = {\n    port: 443,\n    sslModel: false,\n    session: {\n        secret: 'session',\n        key: 'session',\n        maxAge: 2592000\n    },\n    dbConfig: {\n        connectionLimit: 30,\n        host: '47.96.6.227',\n        user: 'huang303513',\n        password: 'huang303513',\n        port: '3306',\n        database: 'myblog'\n    },\n    devEnv: true\n};\n\nexport default devConfig;\n\n//这两个文件必须写成comment.js规范。引用他们的第三方库只支持这个规范。\n\n\n// WEBPACK FOOTER //\n// ./config/default.js","/*\n * @Author: huangchengdu\n * @Date:   2017-01-14 18:47:32\n * @Last Modified by:   huangchengdu\n * @Last Modified time: 2017-01-15 08:18:01\n */\n\n// let devConfig = require('./default.js');\nimport {default as devConfig} from './development.js';\n\nlet proConfig = {\n    devEnv: false,\n    port: 5389,//如果package.json里面不一样，以这里为准\n    apiPort:443,\n    apiHost:\"https://www.huangchengdu.com\",\n    sslModel: false\n}\nlet disConfig = Object.assign({}, devConfig, proConfig);\n\nexport default disConfig;\n\n\n// WEBPACK FOOTER //\n// ./config/production.js","\nexport function formatDate(timestamp) {\n  let date = new Date(timestamp);\n  return date.getYear() + \"-\" + date.getMonth() + 1 + \"-\" + date.getDate() + \"   \" + date.getHours() + \":\" + date.getMinutes() + \":\" + date.getSeconds();\n}\n/**\n * 把一个js对象转换为sql操作字符串\n * @param {*} object \n */\nexport function postToSQLUpdate(object) {\n  let updated = [], params = [];\n  for (var key in object) {\n    if (object.hasOwnProperty(key)) {\n      if (key === 'id') {\n        continue;\n      }\n      updated.push(key + ' = ?')\n      params.push(object[key])\n    }\n  }\n  updated.push('updated_at = ?')\n  params.push(Date.now())\n  return {\n    updated: updated.join(','),\n    params: params\n  }\n}\n\nexport function deepCopy(object) {\n  return JSON.parse(JSON.stringify(object))\n}\n\nexport function timeAgo(time) {\n  const between = Date.now() / 1000 - Number(time)\n\n  if (between < 3600) {\n    return pluralize(~~(between / 60), ' 分钟前')\n  } else if (between < 86400) {\n    return pluralize(~~(between / 3600), ' 小时前')\n  } else {\n    return pluralize(~~(between / 86400), ' 天前')\n  }\n}\n/**\n * 在服务端获取cookie\n * @param {获取request的cookie} req \n */\nexport function getCookiesInServer(req) {\n  let Cookies = {};\n  req && req.headers.cookie && req.headers.cookie.split(';').forEach(function (Cookie) {\n    let parts = Cookie.split('=');\n    Cookies[parts[0].trim()] = (parts[1] || '').trim();\n  });\n  return Cookies;\n}\n/**\n * 在客户端设置cookie\n * @param {*} name \n * @param {*} value \n * @param {*} minutes \n */\nexport function setCookieInClient(name, value, minutes) {\n  let exp = new Date();\n  exp.setTime(exp.getTime() + minutes * 60 * 1000);\n  document.cookie = name + \"=\" + escape(value) + \";expires=\" + exp.toGMTString();\n}\n\n/**\n * 获取浏览器端指定的cookie\n * @param {*} name \n */\nexport function getCookieInClient(name) {\n  let arr, reg = new RegExp(\"(^| )\" + name + \"=([^;]*)(;|$)\");\n  if (arr = document.cookie.match(reg))\n    return unescape(arr[2]);\n  else\n    return null;\n}\n\n/**\n * 百度统计脚本\n */\nexport function baidutongji() {\n  var _hmt = _hmt || [];\n  (function() {\n    var hm = document.createElement(\"script\");\n    hm.src = \"https://hm.baidu.com/hm.js?96b0d09e8d132a6e61f66ea86b479b70\";\n    var s = document.getElementsByTagName(\"script\")[0]; \n    s.parentNode.insertBefore(hm, s);\n  })();\n\n\n}\n/**\n * 适配移动端屏幕\n */\nexport function mobilePage() {\n  (function() {\n    var hm = document.createElement(\"script\");\n    hm.src = \"https://www.huangchengdu.com/javascripts/screen.js\";\n    var s = document.getElementsByTagName(\"script\")[0]; \n    s.parentNode.insertBefore(hm, s);\n  })();\n}\n\n\n\n// WEBPACK FOOTER //\n// ./util/assist.js","/*\n* @Author: huangchengdu\n* @Date:   2017-01-13 17:10:07\n* @Last Modified by:   huangchengdu\n* @Last Modified time: 2017-01-13 21:40:28\n*/\n\nmodule.exports = {\n\tcheckLogin:function(req,res,next) {\n\t\tif (!req.session.user) {\n\t\t\t//req.flash('error','未登录');\n\t\t\treturn res.redirect('/signin');\n\t\t}\n\t\tnext();\n\t},\n\tcheckNotLogin:function(req,res,next){\n\t\tif (req.session.user) {\n\t\t\t//req.flash('error','已登录');\n\t\t\treturn res.redirect('back');//返回之前的页面\n\t\t}\n\t\tnext();\n\t}\n};\n\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./server/middlewares/check.js","module.exports = {\n\t/*\n\t ** Headers of the page\n\t */\n\thead: {\n\t\tcache: {\n\t\t\tmax: 100,\n\t\t\tmaxAge: 600000\n\t\t},\n\t\ttitle: '黄成都的技术博客',\n\t\tmeta: [{\n\t\t\tcharset: 'utf-8'\n\t\t},\n\t\t{\n\t\t\tname: 'viewport',\n\t\t\tcontent: 'width=device-width,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no,minimal-ui'\n\t\t},\n\t\t  {\n\t\t    hid: 'description',\n\t\t    name: 'description',\n\t\t    content: '黄成都的技术博客'\n\t\t  },\n\t\t// /*优先使用 IE 最新版本和 Chrome  */\n\t\t// {\n\t\t// \tname: 'renderer',\n\t\t// \tcontent: 'webkit'\n\t\t// },\n\t\t// {\n\t\t// \t'http-equiv': 'X-UA-Compatible',\n\t\t// \tcontent: 'IE=edge'\n\t\t// },\n\t\t/* iOS 设备 */\n\t\t{\n\t\t\tname: 'author',\n\t\t\tcontent: '黄成都'\n\t\t},\n\t\t{\n\t\t\tname: 'apple-mobile-web-app-title',\n\t\t\tcontent: '黄成都的技术博客'\n\t\t},\n\t\t{\n\t\t\tname: 'apple-mobile-web-app-capable',\n\t\t\tcontent: 'yes'\n\t\t},\n\t\t{\n\t\t\tname: 'apple-mobile-web-app-status-bar-style',\n\t\t\tcontent: '#263238'\n\t\t},\n\t\t/*fullscreen and app mode*/\n\t\t{\n\t\t\tname: 'screen-orientation',\n\t\t\tcontent: 'portrait'\n\t\t},\n\t\t{\n\t\t\tname: 'x5-orientation',\n\t\t\tcontent: 'portrait'\n\t\t},\n\t\t{\n\t\t\tname: 'full-screen',\n\t\t\tcontent: 'yes'\n\t\t},\n\t\t{\n\t\t\tname: 'x5-fullscreen',\n\t\t\tcontent: 'true'\n\t\t},\n\t\t// {\n\t\t// \tname: 'browsermode',\n\t\t// \tcontent: 'application'\n\t\t// },\n\t\t// {\n\t\t// \tname: 'x5-page-mode',\n\t\t// \tcontent: 'app'\n\t\t// },\n\t\t// /*webkit*/\n\t\t// {\n\t\t// \tname: 'theme-color',\n\t\t// \tcontent: '#263238'\n\t\t// }\n\t\t],\n\t\tlink: [{\n\t\t\trel: 'icon',\n\t\t\ttype: 'image/x-icon',\n\t\t\thref: '/img/favicon.ico'\n\t\t}]\n\t},\n\tcss: [{\n\t\tsrc: '~assets/less/main.less',\n\t\tlang: 'less'\n\t}],\n\t/*\n\t ** Build configuration\n\t */\n\tbuild: {\n\t\tvendor: ['axios', 'vue-notification'],\n\t\t/*\n\t\t ** Run ESLint on save\n\t\t */\n\t\t// extend(config, ctx) {\n\t\t// \tif (ctx.dev && ctx.isClient) {\n\t\t// \t\tconfig.module.rules.push({\n\t\t// \t\t\tenforce: 'pre',\n\t\t// \t\t\ttest: /\\.(js|vue)$/,\n\t\t// \t\t\tloader: 'eslint-loader',\n\t\t// \t\t\texclude: /(node_modules)/\n\t\t// \t\t})\n\t\t// \t}\n\t\t// }\n\t},\n\tloading: {\n\t\tcolor: '#04acf7',\n\t\theight: '4px',\n\t\tfailedColor: 'red'\n\t},\n\t//页面的过渡效果\n\ttransition: {\n\t\tname: 'page'\n\t},\n\t//配置路由\n\trouter: {\n\t\t// middleware: 'adminAuth'\n\t},\n\t//插件\n\tplugins: [\n\t\t{\n\t\tsrc: '~plugins/axios'\n\t},\n\t{\n\t\tsrc: '~plugins/vue-notification',\n\t\tssr: false\n\t}\n\t]\n}\n\n\n\n// WEBPACK FOOTER //\n// ./nuxt.config.js","module.exports = require(\"path\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"path\"\n// module id = 25\n// module chunks = 0","module.exports = {\"name\":\"juejin\",\"version\":\"1.0.0\",\"description\":\"Nuxt.js project\",\"author\":\"huangchengdu <394042583@qq.com>\",\"private\":true,\"config\":{\"nuxt\":{\"port\":\"3002\"}},\"scripts\":{\"dev\":\"cross-env NODE_ENV=development backpack dev\",\"build\":\"cross-env NODE_ENV=production nuxt build && backpack build\",\"start\":\"cross-env NODE_ENV=production pm2 start build/main.js\",\"generate\":\"cross-env NODE_ENV=production nuxt generate\",\"nuxt\":\"cross-env NODE_ENV=development nuxt\",\"nuxt-build\":\"cross-env NODE_ENV=production nuxt build\",\"nuxt-start\":\"cross-env NODE_ENV=production nuxt start\",\"lint\":\"cross-env NODE_ENV=development eslint --ext .js,.vue --ignore-path .gitignore .\",\"precommit\":\"cross-env NODE_ENV=development npm run lint\"},\"dependencies\":{\"axios\":\"^0.17.1\",\"backpack-core\":\"^0.4.3\",\"body-parser\":\"^1.18.2\",\"cookie-parser\":\"^1.4.3\",\"cross-env\":\"^5.1.1\",\"crypto-js\":\"^3.1.9-1\",\"express\":\"^4.16.2\",\"express-formidable\":\"^1.0.0\",\"express-mysql-session\":\"^1.2.3\",\"express-session\":\"^1.15.6\",\"express-winston\":\"^2.4.0\",\"jade\":\"^1.11.0\",\"less\":\"^2.7.3\",\"less-loader\":\"^4.0.5\",\"marked\":\"^0.3.7\",\"mysql\":\"^2.15.0\",\"nuxt\":\"^1.0.0-rc11\",\"sha1\":\"^1.1.1\",\"vue-notification\":\"^1.3.4\",\"winston\":\"^2.4.0\"},\"devDependencies\":{\"babel-eslint\":\"^7.2.3\",\"eslint\":\"^4.3.0\",\"eslint-config-standard\":\"^10.2.1\",\"eslint-loader\":\"^1.9.0\",\"eslint-plugin-html\":\"^3.1.1\",\"eslint-plugin-import\":\"^2.7.0\",\"eslint-plugin-node\":\"^5.1.1\",\"eslint-plugin-promise\":\"^3.5.0\",\"eslint-plugin-standard\":\"^3.0.1\",\"lru-cache\":\"^4.1.1\",\"xss\":\"^0.3.7\"}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./package.json\n// module id = 26\n// module chunks = 0","module.exports = require(\"fs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fs\"\n// module id = 27\n// module chunks = 0","module.exports = require(\"axios\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"axios\"\n// module id = 28\n// module chunks = 0","/**\n * cssfilter\n *\n * @author 老雷<leizongmin@gmail.com>\n */\n\nvar DEFAULT = require('./default');\nvar FilterCSS = require('./css');\n\n\n/**\n * XSS过滤\n *\n * @param {String} css 要过滤的CSS代码\n * @param {Object} options 选项：whiteList, onAttr, onIgnoreAttr\n * @return {String}\n */\nfunction filterCSS (html, options) {\n  var xss = new FilterCSS(options);\n  return xss.process(html);\n}\n\n\n// 输出\nexports = module.exports = filterCSS;\nexports.FilterCSS = FilterCSS;\nfor (var i in DEFAULT) exports[i] = DEFAULT[i];\n\n// 在浏览器端使用\nif (typeof window !== 'undefined') {\n  window.filterCSS = module.exports;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.0.0.10@cssfilter/lib/index.js\n// module id = 29\n// module chunks = 0","module.exports = {\n  indexOf: function(arr, item) {\n    var i, j;\n    if (Array.prototype.indexOf) {\n      return arr.indexOf(item);\n    }\n    for (i = 0, j = arr.length; i < j; i++) {\n      if (arr[i] === item) {\n        return i;\n      }\n    }\n    return -1;\n  },\n  forEach: function(arr, fn, scope) {\n    var i, j;\n    if (Array.prototype.forEach) {\n      return arr.forEach(fn, scope);\n    }\n    for (i = 0, j = arr.length; i < j; i++) {\n      fn.call(scope, arr[i], i, arr);\n    }\n  },\n  trim: function(str) {\n    if (String.prototype.trim) {\n      return str.trim();\n    }\n    return str.replace(/(^\\s*)|(\\s*$)/g, \"\");\n  },\n  spaceIndex: function(str) {\n    var reg = /\\s|\\n|\\t/;\n    var match = reg.exec(str);\n    return match ? match.index : -1;\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.0.3.7@xss/lib/util.js\n// module id = 30\n// module chunks = 0","/**\n * default settings\n *\n * @author Zongmin Lei<leizongmin@gmail.com>\n */\n\nvar FilterCSS = require(\"cssfilter\").FilterCSS;\nvar getDefaultCSSWhiteList = require(\"cssfilter\").getDefaultWhiteList;\nvar _ = require(\"./util\");\n\nfunction getDefaultWhiteList() {\n  return {\n    a: [\"target\", \"href\", \"title\"],\n    abbr: [\"title\"],\n    address: [],\n    area: [\"shape\", \"coords\", \"href\", \"alt\"],\n    article: [],\n    aside: [],\n    audio: [\"autoplay\", \"controls\", \"loop\", \"preload\", \"src\"],\n    b: [],\n    bdi: [\"dir\"],\n    bdo: [\"dir\"],\n    big: [],\n    blockquote: [\"cite\"],\n    br: [],\n    caption: [],\n    center: [],\n    cite: [],\n    code: [],\n    col: [\"align\", \"valign\", \"span\", \"width\"],\n    colgroup: [\"align\", \"valign\", \"span\", \"width\"],\n    dd: [],\n    del: [\"datetime\"],\n    details: [\"open\"],\n    div: [],\n    dl: [],\n    dt: [],\n    em: [],\n    font: [\"color\", \"size\", \"face\"],\n    footer: [],\n    h1: [],\n    h2: [],\n    h3: [],\n    h4: [],\n    h5: [],\n    h6: [],\n    header: [],\n    hr: [],\n    i: [],\n    img: [\"src\", \"alt\", \"title\", \"width\", \"height\"],\n    ins: [\"datetime\"],\n    li: [],\n    mark: [],\n    nav: [],\n    ol: [],\n    p: [],\n    pre: [],\n    s: [],\n    section: [],\n    small: [],\n    span: [],\n    sub: [],\n    sup: [],\n    strong: [],\n    table: [\"width\", \"border\", \"align\", \"valign\"],\n    tbody: [\"align\", \"valign\"],\n    td: [\"width\", \"rowspan\", \"colspan\", \"align\", \"valign\"],\n    tfoot: [\"align\", \"valign\"],\n    th: [\"width\", \"rowspan\", \"colspan\", \"align\", \"valign\"],\n    thead: [\"align\", \"valign\"],\n    tr: [\"rowspan\", \"align\", \"valign\"],\n    tt: [],\n    u: [],\n    ul: [],\n    video: [\"autoplay\", \"controls\", \"loop\", \"preload\", \"src\", \"height\", \"width\"]\n  };\n}\n\nvar defaultCSSFilter = new FilterCSS();\n\n/**\n * default onTag function\n *\n * @param {String} tag\n * @param {String} html\n * @param {Object} options\n * @return {String}\n */\nfunction onTag(tag, html, options) {\n  // do nothing\n}\n\n/**\n * default onIgnoreTag function\n *\n * @param {String} tag\n * @param {String} html\n * @param {Object} options\n * @return {String}\n */\nfunction onIgnoreTag(tag, html, options) {\n  // do nothing\n}\n\n/**\n * default onTagAttr function\n *\n * @param {String} tag\n * @param {String} name\n * @param {String} value\n * @return {String}\n */\nfunction onTagAttr(tag, name, value) {\n  // do nothing\n}\n\n/**\n * default onIgnoreTagAttr function\n *\n * @param {String} tag\n * @param {String} name\n * @param {String} value\n * @return {String}\n */\nfunction onIgnoreTagAttr(tag, name, value) {\n  // do nothing\n}\n\n/**\n * default escapeHtml function\n *\n * @param {String} html\n */\nfunction escapeHtml(html) {\n  return html.replace(REGEXP_LT, \"&lt;\").replace(REGEXP_GT, \"&gt;\");\n}\n\n/**\n * default safeAttrValue function\n *\n * @param {String} tag\n * @param {String} name\n * @param {String} value\n * @param {Object} cssFilter\n * @return {String}\n */\nfunction safeAttrValue(tag, name, value, cssFilter) {\n  // unescape attribute value firstly\n  value = friendlyAttrValue(value);\n\n  if (name === \"href\" || name === \"src\") {\n    // filter `href` and `src` attribute\n    // only allow the value that starts with `http://` | `https://` | `mailto:` | `/` | `#`\n    value = _.trim(value);\n    if (value === \"#\") return \"#\";\n    if (\n      !(\n        value.substr(0, 7) === \"http://\" ||\n        value.substr(0, 8) === \"https://\" ||\n        value.substr(0, 7) === \"mailto:\" ||\n        value.substr(0, 4) === \"tel:\" ||\n        value[0] === \"#\" ||\n        value[0] === \"/\"\n      )\n    ) {\n      return \"\";\n    }\n  } else if (name === \"background\") {\n    // filter `background` attribute (maybe no use)\n    // `javascript:`\n    REGEXP_DEFAULT_ON_TAG_ATTR_4.lastIndex = 0;\n    if (REGEXP_DEFAULT_ON_TAG_ATTR_4.test(value)) {\n      return \"\";\n    }\n  } else if (name === \"style\") {\n    // `expression()`\n    REGEXP_DEFAULT_ON_TAG_ATTR_7.lastIndex = 0;\n    if (REGEXP_DEFAULT_ON_TAG_ATTR_7.test(value)) {\n      return \"\";\n    }\n    // `url()`\n    REGEXP_DEFAULT_ON_TAG_ATTR_8.lastIndex = 0;\n    if (REGEXP_DEFAULT_ON_TAG_ATTR_8.test(value)) {\n      REGEXP_DEFAULT_ON_TAG_ATTR_4.lastIndex = 0;\n      if (REGEXP_DEFAULT_ON_TAG_ATTR_4.test(value)) {\n        return \"\";\n      }\n    }\n    if (cssFilter !== false) {\n      cssFilter = cssFilter || defaultCSSFilter;\n      value = cssFilter.process(value);\n    }\n  }\n\n  // escape `<>\"` before returns\n  value = escapeAttrValue(value);\n  return value;\n}\n\n// RegExp list\nvar REGEXP_LT = /</g;\nvar REGEXP_GT = />/g;\nvar REGEXP_QUOTE = /\"/g;\nvar REGEXP_QUOTE_2 = /&quot;/g;\nvar REGEXP_ATTR_VALUE_1 = /&#([a-zA-Z0-9]*);?/gim;\nvar REGEXP_ATTR_VALUE_COLON = /&colon;?/gim;\nvar REGEXP_ATTR_VALUE_NEWLINE = /&newline;?/gim;\nvar REGEXP_DEFAULT_ON_TAG_ATTR_3 = /\\/\\*|\\*\\//gm;\nvar REGEXP_DEFAULT_ON_TAG_ATTR_4 = /((j\\s*a\\s*v\\s*a|v\\s*b|l\\s*i\\s*v\\s*e)\\s*s\\s*c\\s*r\\s*i\\s*p\\s*t\\s*|m\\s*o\\s*c\\s*h\\s*a)\\:/gi;\nvar REGEXP_DEFAULT_ON_TAG_ATTR_5 = /^[\\s\"'`]*(d\\s*a\\s*t\\s*a\\s*)\\:/gi;\nvar REGEXP_DEFAULT_ON_TAG_ATTR_6 = /^[\\s\"'`]*(d\\s*a\\s*t\\s*a\\s*)\\:\\s*image\\//gi;\nvar REGEXP_DEFAULT_ON_TAG_ATTR_7 = /e\\s*x\\s*p\\s*r\\s*e\\s*s\\s*s\\s*i\\s*o\\s*n\\s*\\(.*/gi;\nvar REGEXP_DEFAULT_ON_TAG_ATTR_8 = /u\\s*r\\s*l\\s*\\(.*/gi;\n\n/**\n * escape doube quote\n *\n * @param {String} str\n * @return {String} str\n */\nfunction escapeQuote(str) {\n  return str.replace(REGEXP_QUOTE, \"&quot;\");\n}\n\n/**\n * unescape double quote\n *\n * @param {String} str\n * @return {String} str\n */\nfunction unescapeQuote(str) {\n  return str.replace(REGEXP_QUOTE_2, '\"');\n}\n\n/**\n * escape html entities\n *\n * @param {String} str\n * @return {String}\n */\nfunction escapeHtmlEntities(str) {\n  return str.replace(REGEXP_ATTR_VALUE_1, function replaceUnicode(str, code) {\n    return code[0] === \"x\" || code[0] === \"X\"\n      ? String.fromCharCode(parseInt(code.substr(1), 16))\n      : String.fromCharCode(parseInt(code, 10));\n  });\n}\n\n/**\n * escape html5 new danger entities\n *\n * @param {String} str\n * @return {String}\n */\nfunction escapeDangerHtml5Entities(str) {\n  return str\n    .replace(REGEXP_ATTR_VALUE_COLON, \":\")\n    .replace(REGEXP_ATTR_VALUE_NEWLINE, \" \");\n}\n\n/**\n * clear nonprintable characters\n *\n * @param {String} str\n * @return {String}\n */\nfunction clearNonPrintableCharacter(str) {\n  var str2 = \"\";\n  for (var i = 0, len = str.length; i < len; i++) {\n    str2 += str.charCodeAt(i) < 32 ? \" \" : str.charAt(i);\n  }\n  return _.trim(str2);\n}\n\n/**\n * get friendly attribute value\n *\n * @param {String} str\n * @return {String}\n */\nfunction friendlyAttrValue(str) {\n  str = unescapeQuote(str);\n  str = escapeHtmlEntities(str);\n  str = escapeDangerHtml5Entities(str);\n  str = clearNonPrintableCharacter(str);\n  return str;\n}\n\n/**\n * unescape attribute value\n *\n * @param {String} str\n * @return {String}\n */\nfunction escapeAttrValue(str) {\n  str = escapeQuote(str);\n  str = escapeHtml(str);\n  return str;\n}\n\n/**\n * `onIgnoreTag` function for removing all the tags that are not in whitelist\n */\nfunction onIgnoreTagStripAll() {\n  return \"\";\n}\n\n/**\n * remove tag body\n * specify a `tags` list, if the tag is not in the `tags` list then process by the specify function (optional)\n *\n * @param {array} tags\n * @param {function} next\n */\nfunction StripTagBody(tags, next) {\n  if (typeof next !== \"function\") {\n    next = function() {};\n  }\n\n  var isRemoveAllTag = !Array.isArray(tags);\n  function isRemoveTag(tag) {\n    if (isRemoveAllTag) return true;\n    return _.indexOf(tags, tag) !== -1;\n  }\n\n  var removeList = [];\n  var posStart = false;\n\n  return {\n    onIgnoreTag: function(tag, html, options) {\n      if (isRemoveTag(tag)) {\n        if (options.isClosing) {\n          var ret = \"[/removed]\";\n          var end = options.position + ret.length;\n          removeList.push([\n            posStart !== false ? posStart : options.position,\n            end\n          ]);\n          posStart = false;\n          return ret;\n        } else {\n          if (!posStart) {\n            posStart = options.position;\n          }\n          return \"[removed]\";\n        }\n      } else {\n        return next(tag, html, options);\n      }\n    },\n    remove: function(html) {\n      var rethtml = \"\";\n      var lastPos = 0;\n      _.forEach(removeList, function(pos) {\n        rethtml += html.slice(lastPos, pos[0]);\n        lastPos = pos[1];\n      });\n      rethtml += html.slice(lastPos);\n      return rethtml;\n    }\n  };\n}\n\n/**\n * remove html comments\n *\n * @param {String} html\n * @return {String}\n */\nfunction stripCommentTag(html) {\n  return html.replace(STRIP_COMMENT_TAG_REGEXP, \"\");\n}\nvar STRIP_COMMENT_TAG_REGEXP = /<!--[\\s\\S]*?-->/g;\n\n/**\n * remove invisible characters\n *\n * @param {String} html\n * @return {String}\n */\nfunction stripBlankChar(html) {\n  var chars = html.split(\"\");\n  chars = chars.filter(function(char) {\n    var c = char.charCodeAt(0);\n    if (c === 127) return false;\n    if (c <= 31) {\n      if (c === 10 || c === 13) return true;\n      return false;\n    }\n    return true;\n  });\n  return chars.join(\"\");\n}\n\nexports.whiteList = getDefaultWhiteList();\nexports.getDefaultWhiteList = getDefaultWhiteList;\nexports.onTag = onTag;\nexports.onIgnoreTag = onIgnoreTag;\nexports.onTagAttr = onTagAttr;\nexports.onIgnoreTagAttr = onIgnoreTagAttr;\nexports.safeAttrValue = safeAttrValue;\nexports.escapeHtml = escapeHtml;\nexports.escapeQuote = escapeQuote;\nexports.unescapeQuote = unescapeQuote;\nexports.escapeHtmlEntities = escapeHtmlEntities;\nexports.escapeDangerHtml5Entities = escapeDangerHtml5Entities;\nexports.clearNonPrintableCharacter = clearNonPrintableCharacter;\nexports.friendlyAttrValue = friendlyAttrValue;\nexports.escapeAttrValue = escapeAttrValue;\nexports.onIgnoreTagStripAll = onIgnoreTagStripAll;\nexports.StripTagBody = StripTagBody;\nexports.stripCommentTag = stripCommentTag;\nexports.stripBlankChar = stripBlankChar;\nexports.cssFilter = defaultCSSFilter;\nexports.getDefaultCSSWhiteList = getDefaultCSSWhiteList;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.0.3.7@xss/lib/default.js\n// module id = 31\n// module chunks = 0","/**\n * cssfilter\n *\n * @author 老雷<leizongmin@gmail.com>\n */\n\nfunction getDefaultWhiteList () {\n  // 白名单值说明：\n  // true: 允许该属性\n  // Function: function (val) { } 返回true表示允许该属性，其他值均表示不允许\n  // RegExp: regexp.test(val) 返回true表示允许该属性，其他值均表示不允许\n  // 除上面列出的值外均表示不允许\n  var whiteList = {};\n\n  whiteList['align-content'] = false; // default: auto\n  whiteList['align-items'] = false; // default: auto\n  whiteList['align-self'] = false; // default: auto\n  whiteList['alignment-adjust'] = false; // default: auto\n  whiteList['alignment-baseline'] = false; // default: baseline\n  whiteList['all'] = false; // default: depending on individual properties\n  whiteList['anchor-point'] = false; // default: none\n  whiteList['animation'] = false; // default: depending on individual properties\n  whiteList['animation-delay'] = false; // default: 0\n  whiteList['animation-direction'] = false; // default: normal\n  whiteList['animation-duration'] = false; // default: 0\n  whiteList['animation-fill-mode'] = false; // default: none\n  whiteList['animation-iteration-count'] = false; // default: 1\n  whiteList['animation-name'] = false; // default: none\n  whiteList['animation-play-state'] = false; // default: running\n  whiteList['animation-timing-function'] = false; // default: ease\n  whiteList['azimuth'] = false; // default: center\n  whiteList['backface-visibility'] = false; // default: visible\n  whiteList['background'] = true; // default: depending on individual properties\n  whiteList['background-attachment'] = true; // default: scroll\n  whiteList['background-clip'] = true; // default: border-box\n  whiteList['background-color'] = true; // default: transparent\n  whiteList['background-image'] = true; // default: none\n  whiteList['background-origin'] = true; // default: padding-box\n  whiteList['background-position'] = true; // default: 0% 0%\n  whiteList['background-repeat'] = true; // default: repeat\n  whiteList['background-size'] = true; // default: auto\n  whiteList['baseline-shift'] = false; // default: baseline\n  whiteList['binding'] = false; // default: none\n  whiteList['bleed'] = false; // default: 6pt\n  whiteList['bookmark-label'] = false; // default: content()\n  whiteList['bookmark-level'] = false; // default: none\n  whiteList['bookmark-state'] = false; // default: open\n  whiteList['border'] = true; // default: depending on individual properties\n  whiteList['border-bottom'] = true; // default: depending on individual properties\n  whiteList['border-bottom-color'] = true; // default: current color\n  whiteList['border-bottom-left-radius'] = true; // default: 0\n  whiteList['border-bottom-right-radius'] = true; // default: 0\n  whiteList['border-bottom-style'] = true; // default: none\n  whiteList['border-bottom-width'] = true; // default: medium\n  whiteList['border-collapse'] = true; // default: separate\n  whiteList['border-color'] = true; // default: depending on individual properties\n  whiteList['border-image'] = true; // default: none\n  whiteList['border-image-outset'] = true; // default: 0\n  whiteList['border-image-repeat'] = true; // default: stretch\n  whiteList['border-image-slice'] = true; // default: 100%\n  whiteList['border-image-source'] = true; // default: none\n  whiteList['border-image-width'] = true; // default: 1\n  whiteList['border-left'] = true; // default: depending on individual properties\n  whiteList['border-left-color'] = true; // default: current color\n  whiteList['border-left-style'] = true; // default: none\n  whiteList['border-left-width'] = true; // default: medium\n  whiteList['border-radius'] = true; // default: 0\n  whiteList['border-right'] = true; // default: depending on individual properties\n  whiteList['border-right-color'] = true; // default: current color\n  whiteList['border-right-style'] = true; // default: none\n  whiteList['border-right-width'] = true; // default: medium\n  whiteList['border-spacing'] = true; // default: 0\n  whiteList['border-style'] = true; // default: depending on individual properties\n  whiteList['border-top'] = true; // default: depending on individual properties\n  whiteList['border-top-color'] = true; // default: current color\n  whiteList['border-top-left-radius'] = true; // default: 0\n  whiteList['border-top-right-radius'] = true; // default: 0\n  whiteList['border-top-style'] = true; // default: none\n  whiteList['border-top-width'] = true; // default: medium\n  whiteList['border-width'] = true; // default: depending on individual properties\n  whiteList['bottom'] = false; // default: auto\n  whiteList['box-decoration-break'] = true; // default: slice\n  whiteList['box-shadow'] = true; // default: none\n  whiteList['box-sizing'] = true; // default: content-box\n  whiteList['box-snap'] = true; // default: none\n  whiteList['box-suppress'] = true; // default: show\n  whiteList['break-after'] = true; // default: auto\n  whiteList['break-before'] = true; // default: auto\n  whiteList['break-inside'] = true; // default: auto\n  whiteList['caption-side'] = false; // default: top\n  whiteList['chains'] = false; // default: none\n  whiteList['clear'] = true; // default: none\n  whiteList['clip'] = false; // default: auto\n  whiteList['clip-path'] = false; // default: none\n  whiteList['clip-rule'] = false; // default: nonzero\n  whiteList['color'] = true; // default: implementation dependent\n  whiteList['color-interpolation-filters'] = true; // default: auto\n  whiteList['column-count'] = false; // default: auto\n  whiteList['column-fill'] = false; // default: balance\n  whiteList['column-gap'] = false; // default: normal\n  whiteList['column-rule'] = false; // default: depending on individual properties\n  whiteList['column-rule-color'] = false; // default: current color\n  whiteList['column-rule-style'] = false; // default: medium\n  whiteList['column-rule-width'] = false; // default: medium\n  whiteList['column-span'] = false; // default: none\n  whiteList['column-width'] = false; // default: auto\n  whiteList['columns'] = false; // default: depending on individual properties\n  whiteList['contain'] = false; // default: none\n  whiteList['content'] = false; // default: normal\n  whiteList['counter-increment'] = false; // default: none\n  whiteList['counter-reset'] = false; // default: none\n  whiteList['counter-set'] = false; // default: none\n  whiteList['crop'] = false; // default: auto\n  whiteList['cue'] = false; // default: depending on individual properties\n  whiteList['cue-after'] = false; // default: none\n  whiteList['cue-before'] = false; // default: none\n  whiteList['cursor'] = false; // default: auto\n  whiteList['direction'] = false; // default: ltr\n  whiteList['display'] = true; // default: depending on individual properties\n  whiteList['display-inside'] = true; // default: auto\n  whiteList['display-list'] = true; // default: none\n  whiteList['display-outside'] = true; // default: inline-level\n  whiteList['dominant-baseline'] = false; // default: auto\n  whiteList['elevation'] = false; // default: level\n  whiteList['empty-cells'] = false; // default: show\n  whiteList['filter'] = false; // default: none\n  whiteList['flex'] = false; // default: depending on individual properties\n  whiteList['flex-basis'] = false; // default: auto\n  whiteList['flex-direction'] = false; // default: row\n  whiteList['flex-flow'] = false; // default: depending on individual properties\n  whiteList['flex-grow'] = false; // default: 0\n  whiteList['flex-shrink'] = false; // default: 1\n  whiteList['flex-wrap'] = false; // default: nowrap\n  whiteList['float'] = false; // default: none\n  whiteList['float-offset'] = false; // default: 0 0\n  whiteList['flood-color'] = false; // default: black\n  whiteList['flood-opacity'] = false; // default: 1\n  whiteList['flow-from'] = false; // default: none\n  whiteList['flow-into'] = false; // default: none\n  whiteList['font'] = true; // default: depending on individual properties\n  whiteList['font-family'] = true; // default: implementation dependent\n  whiteList['font-feature-settings'] = true; // default: normal\n  whiteList['font-kerning'] = true; // default: auto\n  whiteList['font-language-override'] = true; // default: normal\n  whiteList['font-size'] = true; // default: medium\n  whiteList['font-size-adjust'] = true; // default: none\n  whiteList['font-stretch'] = true; // default: normal\n  whiteList['font-style'] = true; // default: normal\n  whiteList['font-synthesis'] = true; // default: weight style\n  whiteList['font-variant'] = true; // default: normal\n  whiteList['font-variant-alternates'] = true; // default: normal\n  whiteList['font-variant-caps'] = true; // default: normal\n  whiteList['font-variant-east-asian'] = true; // default: normal\n  whiteList['font-variant-ligatures'] = true; // default: normal\n  whiteList['font-variant-numeric'] = true; // default: normal\n  whiteList['font-variant-position'] = true; // default: normal\n  whiteList['font-weight'] = true; // default: normal\n  whiteList['grid'] = false; // default: depending on individual properties\n  whiteList['grid-area'] = false; // default: depending on individual properties\n  whiteList['grid-auto-columns'] = false; // default: auto\n  whiteList['grid-auto-flow'] = false; // default: none\n  whiteList['grid-auto-rows'] = false; // default: auto\n  whiteList['grid-column'] = false; // default: depending on individual properties\n  whiteList['grid-column-end'] = false; // default: auto\n  whiteList['grid-column-start'] = false; // default: auto\n  whiteList['grid-row'] = false; // default: depending on individual properties\n  whiteList['grid-row-end'] = false; // default: auto\n  whiteList['grid-row-start'] = false; // default: auto\n  whiteList['grid-template'] = false; // default: depending on individual properties\n  whiteList['grid-template-areas'] = false; // default: none\n  whiteList['grid-template-columns'] = false; // default: none\n  whiteList['grid-template-rows'] = false; // default: none\n  whiteList['hanging-punctuation'] = false; // default: none\n  whiteList['height'] = true; // default: auto\n  whiteList['hyphens'] = false; // default: manual\n  whiteList['icon'] = false; // default: auto\n  whiteList['image-orientation'] = false; // default: auto\n  whiteList['image-resolution'] = false; // default: normal\n  whiteList['ime-mode'] = false; // default: auto\n  whiteList['initial-letters'] = false; // default: normal\n  whiteList['inline-box-align'] = false; // default: last\n  whiteList['justify-content'] = false; // default: auto\n  whiteList['justify-items'] = false; // default: auto\n  whiteList['justify-self'] = false; // default: auto\n  whiteList['left'] = false; // default: auto\n  whiteList['letter-spacing'] = true; // default: normal\n  whiteList['lighting-color'] = true; // default: white\n  whiteList['line-box-contain'] = false; // default: block inline replaced\n  whiteList['line-break'] = false; // default: auto\n  whiteList['line-grid'] = false; // default: match-parent\n  whiteList['line-height'] = false; // default: normal\n  whiteList['line-snap'] = false; // default: none\n  whiteList['line-stacking'] = false; // default: depending on individual properties\n  whiteList['line-stacking-ruby'] = false; // default: exclude-ruby\n  whiteList['line-stacking-shift'] = false; // default: consider-shifts\n  whiteList['line-stacking-strategy'] = false; // default: inline-line-height\n  whiteList['list-style'] = true; // default: depending on individual properties\n  whiteList['list-style-image'] = true; // default: none\n  whiteList['list-style-position'] = true; // default: outside\n  whiteList['list-style-type'] = true; // default: disc\n  whiteList['margin'] = true; // default: depending on individual properties\n  whiteList['margin-bottom'] = true; // default: 0\n  whiteList['margin-left'] = true; // default: 0\n  whiteList['margin-right'] = true; // default: 0\n  whiteList['margin-top'] = true; // default: 0\n  whiteList['marker-offset'] = false; // default: auto\n  whiteList['marker-side'] = false; // default: list-item\n  whiteList['marks'] = false; // default: none\n  whiteList['mask'] = false; // default: border-box\n  whiteList['mask-box'] = false; // default: see individual properties\n  whiteList['mask-box-outset'] = false; // default: 0\n  whiteList['mask-box-repeat'] = false; // default: stretch\n  whiteList['mask-box-slice'] = false; // default: 0 fill\n  whiteList['mask-box-source'] = false; // default: none\n  whiteList['mask-box-width'] = false; // default: auto\n  whiteList['mask-clip'] = false; // default: border-box\n  whiteList['mask-image'] = false; // default: none\n  whiteList['mask-origin'] = false; // default: border-box\n  whiteList['mask-position'] = false; // default: center\n  whiteList['mask-repeat'] = false; // default: no-repeat\n  whiteList['mask-size'] = false; // default: border-box\n  whiteList['mask-source-type'] = false; // default: auto\n  whiteList['mask-type'] = false; // default: luminance\n  whiteList['max-height'] = true; // default: none\n  whiteList['max-lines'] = false; // default: none\n  whiteList['max-width'] = true; // default: none\n  whiteList['min-height'] = true; // default: 0\n  whiteList['min-width'] = true; // default: 0\n  whiteList['move-to'] = false; // default: normal\n  whiteList['nav-down'] = false; // default: auto\n  whiteList['nav-index'] = false; // default: auto\n  whiteList['nav-left'] = false; // default: auto\n  whiteList['nav-right'] = false; // default: auto\n  whiteList['nav-up'] = false; // default: auto\n  whiteList['object-fit'] = false; // default: fill\n  whiteList['object-position'] = false; // default: 50% 50%\n  whiteList['opacity'] = false; // default: 1\n  whiteList['order'] = false; // default: 0\n  whiteList['orphans'] = false; // default: 2\n  whiteList['outline'] = false; // default: depending on individual properties\n  whiteList['outline-color'] = false; // default: invert\n  whiteList['outline-offset'] = false; // default: 0\n  whiteList['outline-style'] = false; // default: none\n  whiteList['outline-width'] = false; // default: medium\n  whiteList['overflow'] = false; // default: depending on individual properties\n  whiteList['overflow-wrap'] = false; // default: normal\n  whiteList['overflow-x'] = false; // default: visible\n  whiteList['overflow-y'] = false; // default: visible\n  whiteList['padding'] = true; // default: depending on individual properties\n  whiteList['padding-bottom'] = true; // default: 0\n  whiteList['padding-left'] = true; // default: 0\n  whiteList['padding-right'] = true; // default: 0\n  whiteList['padding-top'] = true; // default: 0\n  whiteList['page'] = false; // default: auto\n  whiteList['page-break-after'] = false; // default: auto\n  whiteList['page-break-before'] = false; // default: auto\n  whiteList['page-break-inside'] = false; // default: auto\n  whiteList['page-policy'] = false; // default: start\n  whiteList['pause'] = false; // default: implementation dependent\n  whiteList['pause-after'] = false; // default: implementation dependent\n  whiteList['pause-before'] = false; // default: implementation dependent\n  whiteList['perspective'] = false; // default: none\n  whiteList['perspective-origin'] = false; // default: 50% 50%\n  whiteList['pitch'] = false; // default: medium\n  whiteList['pitch-range'] = false; // default: 50\n  whiteList['play-during'] = false; // default: auto\n  whiteList['position'] = false; // default: static\n  whiteList['presentation-level'] = false; // default: 0\n  whiteList['quotes'] = false; // default: text\n  whiteList['region-fragment'] = false; // default: auto\n  whiteList['resize'] = false; // default: none\n  whiteList['rest'] = false; // default: depending on individual properties\n  whiteList['rest-after'] = false; // default: none\n  whiteList['rest-before'] = false; // default: none\n  whiteList['richness'] = false; // default: 50\n  whiteList['right'] = false; // default: auto\n  whiteList['rotation'] = false; // default: 0\n  whiteList['rotation-point'] = false; // default: 50% 50%\n  whiteList['ruby-align'] = false; // default: auto\n  whiteList['ruby-merge'] = false; // default: separate\n  whiteList['ruby-position'] = false; // default: before\n  whiteList['shape-image-threshold'] = false; // default: 0.0\n  whiteList['shape-outside'] = false; // default: none\n  whiteList['shape-margin'] = false; // default: 0\n  whiteList['size'] = false; // default: auto\n  whiteList['speak'] = false; // default: auto\n  whiteList['speak-as'] = false; // default: normal\n  whiteList['speak-header'] = false; // default: once\n  whiteList['speak-numeral'] = false; // default: continuous\n  whiteList['speak-punctuation'] = false; // default: none\n  whiteList['speech-rate'] = false; // default: medium\n  whiteList['stress'] = false; // default: 50\n  whiteList['string-set'] = false; // default: none\n  whiteList['tab-size'] = false; // default: 8\n  whiteList['table-layout'] = false; // default: auto\n  whiteList['text-align'] = true; // default: start\n  whiteList['text-align-last'] = true; // default: auto\n  whiteList['text-combine-upright'] = true; // default: none\n  whiteList['text-decoration'] = true; // default: none\n  whiteList['text-decoration-color'] = true; // default: currentColor\n  whiteList['text-decoration-line'] = true; // default: none\n  whiteList['text-decoration-skip'] = true; // default: objects\n  whiteList['text-decoration-style'] = true; // default: solid\n  whiteList['text-emphasis'] = true; // default: depending on individual properties\n  whiteList['text-emphasis-color'] = true; // default: currentColor\n  whiteList['text-emphasis-position'] = true; // default: over right\n  whiteList['text-emphasis-style'] = true; // default: none\n  whiteList['text-height'] = true; // default: auto\n  whiteList['text-indent'] = true; // default: 0\n  whiteList['text-justify'] = true; // default: auto\n  whiteList['text-orientation'] = true; // default: mixed\n  whiteList['text-overflow'] = true; // default: clip\n  whiteList['text-shadow'] = true; // default: none\n  whiteList['text-space-collapse'] = true; // default: collapse\n  whiteList['text-transform'] = true; // default: none\n  whiteList['text-underline-position'] = true; // default: auto\n  whiteList['text-wrap'] = true; // default: normal\n  whiteList['top'] = false; // default: auto\n  whiteList['transform'] = false; // default: none\n  whiteList['transform-origin'] = false; // default: 50% 50% 0\n  whiteList['transform-style'] = false; // default: flat\n  whiteList['transition'] = false; // default: depending on individual properties\n  whiteList['transition-delay'] = false; // default: 0s\n  whiteList['transition-duration'] = false; // default: 0s\n  whiteList['transition-property'] = false; // default: all\n  whiteList['transition-timing-function'] = false; // default: ease\n  whiteList['unicode-bidi'] = false; // default: normal\n  whiteList['vertical-align'] = false; // default: baseline\n  whiteList['visibility'] = false; // default: visible\n  whiteList['voice-balance'] = false; // default: center\n  whiteList['voice-duration'] = false; // default: auto\n  whiteList['voice-family'] = false; // default: implementation dependent\n  whiteList['voice-pitch'] = false; // default: medium\n  whiteList['voice-range'] = false; // default: medium\n  whiteList['voice-rate'] = false; // default: normal\n  whiteList['voice-stress'] = false; // default: normal\n  whiteList['voice-volume'] = false; // default: medium\n  whiteList['volume'] = false; // default: medium\n  whiteList['white-space'] = false; // default: normal\n  whiteList['widows'] = false; // default: 2\n  whiteList['width'] = true; // default: auto\n  whiteList['will-change'] = false; // default: auto\n  whiteList['word-break'] = true; // default: normal\n  whiteList['word-spacing'] = true; // default: normal\n  whiteList['word-wrap'] = true; // default: normal\n  whiteList['wrap-flow'] = false; // default: auto\n  whiteList['wrap-through'] = false; // default: wrap\n  whiteList['writing-mode'] = false; // default: horizontal-tb\n  whiteList['z-index'] = false; // default: auto\n\n  return whiteList;\n}\n\n\n/**\n * 匹配到白名单上的一个属性时\n *\n * @param {String} name\n * @param {String} value\n * @param {Object} options\n * @return {String}\n */\nfunction onAttr (name, value, options) {\n  // do nothing\n}\n\n/**\n * 匹配到不在白名单上的一个属性时\n *\n * @param {String} name\n * @param {String} value\n * @param {Object} options\n * @return {String}\n */\nfunction onIgnoreAttr (name, value, options) {\n  // do nothing\n}\n\nvar REGEXP_URL_JAVASCRIPT = /javascript\\s*\\:/img;\n\n/**\n * 过滤属性值\n *\n * @param {String} name\n * @param {String} value\n * @return {String}\n */\nfunction safeAttrValue(name, value) {\n  if (REGEXP_URL_JAVASCRIPT.test(value)) return '';\n  return value;\n}\n\n\nexports.whiteList = getDefaultWhiteList();\nexports.getDefaultWhiteList = getDefaultWhiteList;\nexports.onAttr = onAttr;\nexports.onIgnoreAttr = onIgnoreAttr;\nexports.safeAttrValue = safeAttrValue;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.0.0.10@cssfilter/lib/default.js\n// module id = 32\n// module chunks = 0","module.exports = {\n  indexOf: function (arr, item) {\n    var i, j;\n    if (Array.prototype.indexOf) {\n      return arr.indexOf(item);\n    }\n    for (i = 0, j = arr.length; i < j; i++) {\n      if (arr[i] === item) {\n        return i;\n      }\n    }\n    return -1;\n  },\n  forEach: function (arr, fn, scope) {\n    var i, j;\n    if (Array.prototype.forEach) {\n      return arr.forEach(fn, scope);\n    }\n    for (i = 0, j = arr.length; i < j; i++) {\n      fn.call(scope, arr[i], i, arr);\n    }\n  },\n  trim: function (str) {\n    if (String.prototype.trim) {\n      return str.trim();\n    }\n    return str.replace(/(^\\s*)|(\\s*$)/g, '');\n  },\n  trimRight: function (str) {\n    if (String.prototype.trimRight) {\n      return str.trimRight();\n    }\n    return str.replace(/(\\s*$)/g, '');\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.0.0.10@cssfilter/lib/util.js\n// module id = 33\n// module chunks = 0","/**\n * Simple HTML Parser\n *\n * @author Zongmin Lei<leizongmin@gmail.com>\n */\n\nvar _ = require(\"./util\");\n\n/**\n * get tag name\n *\n * @param {String} html e.g. '<a hef=\"#\">'\n * @return {String}\n */\nfunction getTagName(html) {\n  var i = _.spaceIndex(html);\n  if (i === -1) {\n    var tagName = html.slice(1, -1);\n  } else {\n    var tagName = html.slice(1, i + 1);\n  }\n  tagName = _.trim(tagName).toLowerCase();\n  if (tagName.slice(0, 1) === \"/\") tagName = tagName.slice(1);\n  if (tagName.slice(-1) === \"/\") tagName = tagName.slice(0, -1);\n  return tagName;\n}\n\n/**\n * is close tag?\n *\n * @param {String} html 如：'<a hef=\"#\">'\n * @return {Boolean}\n */\nfunction isClosing(html) {\n  return html.slice(0, 2) === \"</\";\n}\n\n/**\n * parse input html and returns processed html\n *\n * @param {String} html\n * @param {Function} onTag e.g. function (sourcePosition, position, tag, html, isClosing)\n * @param {Function} escapeHtml\n * @return {String}\n */\nfunction parseTag(html, onTag, escapeHtml) {\n  \"user strict\";\n\n  var rethtml = \"\";\n  var lastPos = 0;\n  var tagStart = false;\n  var quoteStart = false;\n  var currentPos = 0;\n  var len = html.length;\n  var currentTagName = \"\";\n  var currentHtml = \"\";\n\n  for (currentPos = 0; currentPos < len; currentPos++) {\n    var c = html.charAt(currentPos);\n    if (tagStart === false) {\n      if (c === \"<\") {\n        tagStart = currentPos;\n        continue;\n      }\n    } else {\n      if (quoteStart === false) {\n        if (c === \"<\") {\n          rethtml += escapeHtml(html.slice(lastPos, currentPos));\n          tagStart = currentPos;\n          lastPos = currentPos;\n          continue;\n        }\n        if (c === \">\") {\n          rethtml += escapeHtml(html.slice(lastPos, tagStart));\n          currentHtml = html.slice(tagStart, currentPos + 1);\n          currentTagName = getTagName(currentHtml);\n          rethtml += onTag(\n            tagStart,\n            rethtml.length,\n            currentTagName,\n            currentHtml,\n            isClosing(currentHtml)\n          );\n          lastPos = currentPos + 1;\n          tagStart = false;\n          continue;\n        }\n        if ((c === '\"' || c === \"'\") && html.charAt(currentPos - 1) === \"=\") {\n          quoteStart = c;\n          continue;\n        }\n      } else {\n        if (c === quoteStart) {\n          quoteStart = false;\n          continue;\n        }\n      }\n    }\n  }\n  if (lastPos < html.length) {\n    rethtml += escapeHtml(html.substr(lastPos));\n  }\n\n  return rethtml;\n}\n\nvar REGEXP_ILLEGAL_ATTR_NAME = /[^a-zA-Z0-9_:\\.\\-]/gim;\n\n/**\n * parse input attributes and returns processed attributes\n *\n * @param {String} html e.g. `href=\"#\" target=\"_blank\"`\n * @param {Function} onAttr e.g. `function (name, value)`\n * @return {String}\n */\nfunction parseAttr(html, onAttr) {\n  \"user strict\";\n\n  var lastPos = 0;\n  var retAttrs = [];\n  var tmpName = false;\n  var len = html.length;\n\n  function addAttr(name, value) {\n    name = _.trim(name);\n    name = name.replace(REGEXP_ILLEGAL_ATTR_NAME, \"\").toLowerCase();\n    if (name.length < 1) return;\n    var ret = onAttr(name, value || \"\");\n    if (ret) retAttrs.push(ret);\n  }\n\n  // 逐个分析字符\n  for (var i = 0; i < len; i++) {\n    var c = html.charAt(i);\n    var v, j;\n    if (tmpName === false && c === \"=\") {\n      tmpName = html.slice(lastPos, i);\n      lastPos = i + 1;\n      continue;\n    }\n    if (tmpName !== false) {\n      if (\n        i === lastPos &&\n        (c === '\"' || c === \"'\") &&\n        html.charAt(i - 1) === \"=\"\n      ) {\n        j = html.indexOf(c, i + 1);\n        if (j === -1) {\n          break;\n        } else {\n          v = _.trim(html.slice(lastPos + 1, j));\n          addAttr(tmpName, v);\n          tmpName = false;\n          i = j;\n          lastPos = i + 1;\n          continue;\n        }\n      }\n    }\n    if (/\\s|\\n|\\t/.test(c)) {\n      html = html.replace(/\\s|\\n|\\t/g, \" \");\n      if (tmpName === false) {\n        j = findNextEqual(html, i);\n        if (j === -1) {\n          v = _.trim(html.slice(lastPos, i));\n          addAttr(v);\n          tmpName = false;\n          lastPos = i + 1;\n          continue;\n        } else {\n          i = j - 1;\n          continue;\n        }\n      } else {\n        j = findBeforeEqual(html, i - 1);\n        if (j === -1) {\n          v = _.trim(html.slice(lastPos, i));\n          v = stripQuoteWrap(v);\n          addAttr(tmpName, v);\n          tmpName = false;\n          lastPos = i + 1;\n          continue;\n        } else {\n          continue;\n        }\n      }\n    }\n  }\n\n  if (lastPos < html.length) {\n    if (tmpName === false) {\n      addAttr(html.slice(lastPos));\n    } else {\n      addAttr(tmpName, stripQuoteWrap(_.trim(html.slice(lastPos))));\n    }\n  }\n\n  return _.trim(retAttrs.join(\" \"));\n}\n\nfunction findNextEqual(str, i) {\n  for (; i < str.length; i++) {\n    var c = str[i];\n    if (c === \" \") continue;\n    if (c === \"=\") return i;\n    return -1;\n  }\n}\n\nfunction findBeforeEqual(str, i) {\n  for (; i > 0; i--) {\n    var c = str[i];\n    if (c === \" \") continue;\n    if (c === \"=\") return i;\n    return -1;\n  }\n}\n\nfunction isQuoteWrapString(text) {\n  if (\n    (text[0] === '\"' && text[text.length - 1] === '\"') ||\n    (text[0] === \"'\" && text[text.length - 1] === \"'\")\n  ) {\n    return true;\n  } else {\n    return false;\n  }\n}\n\nfunction stripQuoteWrap(text) {\n  if (isQuoteWrapString(text)) {\n    return text.substr(1, text.length - 2);\n  } else {\n    return text;\n  }\n}\n\nexports.parseTag = parseTag;\nexports.parseAttr = parseAttr;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.0.3.7@xss/lib/parser.js\n// module id = 34\n// module chunks = 0","/**\n * xss\n *\n * @author Zongmin Lei<leizongmin@gmail.com>\n */\n\nvar DEFAULT = require(\"./default\");\nvar parser = require(\"./parser\");\nvar FilterXSS = require(\"./xss\");\n\n/**\n * filter xss function\n *\n * @param {String} html\n * @param {Object} options { whiteList, onTag, onTagAttr, onIgnoreTag, onIgnoreTagAttr, safeAttrValue, escapeHtml }\n * @return {String}\n */\nfunction filterXSS(html, options) {\n  var xss = new FilterXSS(options);\n  return xss.process(html);\n}\n\nexports = module.exports = filterXSS;\nexports.FilterXSS = FilterXSS;\nfor (var i in DEFAULT) exports[i] = DEFAULT[i];\nfor (var i in parser) exports[i] = parser[i];\n\n// using `xss` on the browser, output `filterXSS` to the globals\nif (typeof window !== \"undefined\") {\n  window.filterXSS = module.exports;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.0.3.7@xss/lib/index.js\n// module id = 35\n// module chunks = 0","/**\n * cssfilter\n *\n * @author 老雷<leizongmin@gmail.com>\n */\n\nvar DEFAULT = require('./default');\nvar parseStyle = require('./parser');\nvar _ = require('./util');\n\n\n/**\n * 返回值是否为空\n *\n * @param {Object} obj\n * @return {Boolean}\n */\nfunction isNull (obj) {\n  return (obj === undefined || obj === null);\n}\n\n/**\n * 浅拷贝对象\n *\n * @param {Object} obj\n * @return {Object}\n */\nfunction shallowCopyObject (obj) {\n  var ret = {};\n  for (var i in obj) {\n    ret[i] = obj[i];\n  }\n  return ret;\n}\n\n/**\n * 创建CSS过滤器\n *\n * @param {Object} options\n *   - {Object} whiteList\n *   - {Function} onAttr\n *   - {Function} onIgnoreAttr\n *   - {Function} safeAttrValue\n */\nfunction FilterCSS (options) {\n  options = shallowCopyObject(options || {});\n  options.whiteList = options.whiteList || DEFAULT.whiteList;\n  options.onAttr = options.onAttr || DEFAULT.onAttr;\n  options.onIgnoreAttr = options.onIgnoreAttr || DEFAULT.onIgnoreAttr;\n  options.safeAttrValue = options.safeAttrValue || DEFAULT.safeAttrValue;\n  this.options = options;\n}\n\nFilterCSS.prototype.process = function (css) {\n  // 兼容各种奇葩输入\n  css = css || '';\n  css = css.toString();\n  if (!css) return '';\n\n  var me = this;\n  var options = me.options;\n  var whiteList = options.whiteList;\n  var onAttr = options.onAttr;\n  var onIgnoreAttr = options.onIgnoreAttr;\n  var safeAttrValue = options.safeAttrValue;\n\n  var retCSS = parseStyle(css, function (sourcePosition, position, name, value, source) {\n\n    var check = whiteList[name];\n    var isWhite = false;\n    if (check === true) isWhite = check;\n    else if (typeof check === 'function') isWhite = check(value);\n    else if (check instanceof RegExp) isWhite = check.test(value);\n    if (isWhite !== true) isWhite = false;\n\n    // 如果过滤后 value 为空则直接忽略\n    value = safeAttrValue(name, value);\n    if (!value) return;\n\n    var opts = {\n      position: position,\n      sourcePosition: sourcePosition,\n      source: source,\n      isWhite: isWhite\n    };\n\n    if (isWhite) {\n\n      var ret = onAttr(name, value, opts);\n      if (isNull(ret)) {\n        return name + ':' + value;\n      } else {\n        return ret;\n      }\n\n    } else {\n\n      var ret = onIgnoreAttr(name, value, opts);\n      if (!isNull(ret)) {\n        return ret;\n      }\n\n    }\n  });\n\n  return retCSS;\n};\n\n\nmodule.exports = FilterCSS;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.0.0.10@cssfilter/lib/css.js\n// module id = 36\n// module chunks = 0","/**\n * cssfilter\n *\n * @author 老雷<leizongmin@gmail.com>\n */\n\nvar _ = require('./util');\n\n\n/**\n * 解析style\n *\n * @param {String} css\n * @param {Function} onAttr 处理属性的函数\n *   参数格式： function (sourcePosition, position, name, value, source)\n * @return {String}\n */\nfunction parseStyle (css, onAttr) {\n  css = _.trimRight(css);\n  if (css[css.length - 1] !== ';') css += ';';\n  var cssLength = css.length;\n  var isParenthesisOpen = false;\n  var lastPos = 0;\n  var i = 0;\n  var retCSS = '';\n\n  function addNewAttr () {\n    // 如果没有正常的闭合圆括号，则直接忽略当前属性\n    if (!isParenthesisOpen) {\n      var source = _.trim(css.slice(lastPos, i));\n      var j = source.indexOf(':');\n      if (j !== -1) {\n        var name = _.trim(source.slice(0, j));\n        var value = _.trim(source.slice(j + 1));\n        // 必须有属性名称\n        if (name) {\n          var ret = onAttr(lastPos, retCSS.length, name, value, source);\n          if (ret) retCSS += ret + '; ';\n        }\n      }\n    }\n    lastPos = i + 1;\n  }\n\n  for (; i < cssLength; i++) {\n    var c = css[i];\n    if (c === '/' && css[i + 1] === '*') {\n      // 备注开始\n      var j = css.indexOf('*/', i + 2);\n      // 如果没有正常的备注结束，则后面的部分全部跳过\n      if (j === -1) break;\n      // 直接将当前位置调到备注结尾，并且初始化状态\n      i = j + 1;\n      lastPos = i + 1;\n      isParenthesisOpen = false;\n    } else if (c === '(') {\n      isParenthesisOpen = true;\n    } else if (c === ')') {\n      isParenthesisOpen = false;\n    } else if (c === ';') {\n      if (isParenthesisOpen) {\n        // 在圆括号里面，忽略\n      } else {\n        addNewAttr();\n      }\n    } else if (c === '\\n') {\n      addNewAttr();\n    }\n  }\n\n  return _.trim(retCSS);\n}\n\nmodule.exports = parseStyle;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.0.0.10@cssfilter/lib/parser.js\n// module id = 37\n// module chunks = 0","/**\n * filter xss\n *\n * @author Zongmin Lei<leizongmin@gmail.com>\n */\n\nvar FilterCSS = require(\"cssfilter\").FilterCSS;\nvar DEFAULT = require(\"./default\");\nvar parser = require(\"./parser\");\nvar parseTag = parser.parseTag;\nvar parseAttr = parser.parseAttr;\nvar _ = require(\"./util\");\n\n/**\n * returns `true` if the input value is `undefined` or `null`\n *\n * @param {Object} obj\n * @return {Boolean}\n */\nfunction isNull(obj) {\n  return obj === undefined || obj === null;\n}\n\n/**\n * get attributes for a tag\n *\n * @param {String} html\n * @return {Object}\n *   - {String} html\n *   - {Boolean} closing\n */\nfunction getAttrs(html) {\n  var i = _.spaceIndex(html);\n  if (i === -1) {\n    return {\n      html: \"\",\n      closing: html[html.length - 2] === \"/\"\n    };\n  }\n  html = _.trim(html.slice(i + 1, -1));\n  var isClosing = html[html.length - 1] === \"/\";\n  if (isClosing) html = _.trim(html.slice(0, -1));\n  return {\n    html: html,\n    closing: isClosing\n  };\n}\n\n/**\n * shallow copy\n *\n * @param {Object} obj\n * @return {Object}\n */\nfunction shallowCopyObject(obj) {\n  var ret = {};\n  for (var i in obj) {\n    ret[i] = obj[i];\n  }\n  return ret;\n}\n\n/**\n * FilterXSS class\n *\n * @param {Object} options\n *        whiteList, onTag, onTagAttr, onIgnoreTag,\n *        onIgnoreTagAttr, safeAttrValue, escapeHtml\n *        stripIgnoreTagBody, allowCommentTag, stripBlankChar\n *        css{whiteList, onAttr, onIgnoreAttr} `css=false` means don't use `cssfilter`\n */\nfunction FilterXSS(options) {\n  options = shallowCopyObject(options || {});\n\n  if (options.stripIgnoreTag) {\n    if (options.onIgnoreTag) {\n      console.error(\n        'Notes: cannot use these two options \"stripIgnoreTag\" and \"onIgnoreTag\" at the same time'\n      );\n    }\n    options.onIgnoreTag = DEFAULT.onIgnoreTagStripAll;\n  }\n\n  options.whiteList = options.whiteList || DEFAULT.whiteList;\n  options.onTag = options.onTag || DEFAULT.onTag;\n  options.onTagAttr = options.onTagAttr || DEFAULT.onTagAttr;\n  options.onIgnoreTag = options.onIgnoreTag || DEFAULT.onIgnoreTag;\n  options.onIgnoreTagAttr = options.onIgnoreTagAttr || DEFAULT.onIgnoreTagAttr;\n  options.safeAttrValue = options.safeAttrValue || DEFAULT.safeAttrValue;\n  options.escapeHtml = options.escapeHtml || DEFAULT.escapeHtml;\n  this.options = options;\n\n  if (options.css === false) {\n    this.cssFilter = false;\n  } else {\n    options.css = options.css || {};\n    this.cssFilter = new FilterCSS(options.css);\n  }\n}\n\n/**\n * start process and returns result\n *\n * @param {String} html\n * @return {String}\n */\nFilterXSS.prototype.process = function(html) {\n  // compatible with the input\n  html = html || \"\";\n  html = html.toString();\n  if (!html) return \"\";\n\n  var me = this;\n  var options = me.options;\n  var whiteList = options.whiteList;\n  var onTag = options.onTag;\n  var onIgnoreTag = options.onIgnoreTag;\n  var onTagAttr = options.onTagAttr;\n  var onIgnoreTagAttr = options.onIgnoreTagAttr;\n  var safeAttrValue = options.safeAttrValue;\n  var escapeHtml = options.escapeHtml;\n  var cssFilter = me.cssFilter;\n\n  // remove invisible characters\n  if (options.stripBlankChar) {\n    html = DEFAULT.stripBlankChar(html);\n  }\n\n  // remove html comments\n  if (!options.allowCommentTag) {\n    html = DEFAULT.stripCommentTag(html);\n  }\n\n  // if enable stripIgnoreTagBody\n  var stripIgnoreTagBody = false;\n  if (options.stripIgnoreTagBody) {\n    var stripIgnoreTagBody = DEFAULT.StripTagBody(\n      options.stripIgnoreTagBody,\n      onIgnoreTag\n    );\n    onIgnoreTag = stripIgnoreTagBody.onIgnoreTag;\n  }\n\n  var retHtml = parseTag(\n    html,\n    function(sourcePosition, position, tag, html, isClosing) {\n      var info = {\n        sourcePosition: sourcePosition,\n        position: position,\n        isClosing: isClosing,\n        isWhite: whiteList.hasOwnProperty(tag)\n      };\n\n      // call `onTag()`\n      var ret = onTag(tag, html, info);\n      if (!isNull(ret)) return ret;\n\n      if (info.isWhite) {\n        if (info.isClosing) {\n          return \"</\" + tag + \">\";\n        }\n\n        var attrs = getAttrs(html);\n        var whiteAttrList = whiteList[tag];\n        var attrsHtml = parseAttr(attrs.html, function(name, value) {\n          // call `onTagAttr()`\n          var isWhiteAttr = _.indexOf(whiteAttrList, name) !== -1;\n          var ret = onTagAttr(tag, name, value, isWhiteAttr);\n          if (!isNull(ret)) return ret;\n\n          if (isWhiteAttr) {\n            // call `safeAttrValue()`\n            value = safeAttrValue(tag, name, value, cssFilter);\n            if (value) {\n              return name + '=\"' + value + '\"';\n            } else {\n              return name;\n            }\n          } else {\n            // call `onIgnoreTagAttr()`\n            var ret = onIgnoreTagAttr(tag, name, value, isWhiteAttr);\n            if (!isNull(ret)) return ret;\n            return;\n          }\n        });\n\n        // build new tag html\n        var html = \"<\" + tag;\n        if (attrsHtml) html += \" \" + attrsHtml;\n        if (attrs.closing) html += \" /\";\n        html += \">\";\n        return html;\n      } else {\n        // call `onIgnoreTag()`\n        var ret = onIgnoreTag(tag, html, info);\n        if (!isNull(ret)) return ret;\n        return escapeHtml(html);\n      }\n    },\n    escapeHtml\n  );\n\n  // if enable stripIgnoreTagBody\n  if (stripIgnoreTagBody) {\n    retHtml = stripIgnoreTagBody.remove(retHtml);\n  }\n\n  return retHtml;\n};\n\nmodule.exports = FilterXSS;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.0.3.7@xss/lib/xss.js\n// module id = 38\n// module chunks = 0"],"sourceRoot":""}